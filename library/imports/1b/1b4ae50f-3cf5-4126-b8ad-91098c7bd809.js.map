{"version":3,"sources":["..\\..\\..\\..\\assets\\Global/assets\\Global\\pet.js"],"names":["GlobalData","require","cc","Class","extends","Component","properties","image","Sprite","hungerLabel","Node","cleanessLabel","thirstLabel","moodLabel","energyLabel","species","gender","color","flagPetOperBtnEnable","hunger","type","Integer","get","_hunger","set","value","console","log","hungerCeiling","height","width","_hungerCeiling","cleaness","_cleaness","cleanessCeiling","_cleanessCeiling","thirst","_thirst","thirstCeiling","_thirstCeiling","mood","_mood","moodCeiling","_moodCeiling","energy","_energy","energyCeiling","_energyCeiling","growth","default","growthCeling","growthLevel","flagAgeGroup","_flagAgeGroup","flagSkipping","_flagSkipping","flagStory","_flagStory","flagSleep","_flagSleep","sleepRemainTime","_sleepRemainTime","flagWork","_flagWork","workRemainTime","_workRemainTime","flagTrip","_flagTrip","tripRemainTime","_tripRemainTime","updateID","onLoad","data","self","serverAddr","HttpHelper","httpPost","res","parseInt","init","interval","petImagePath","loader","loadRes","SpriteFrame","err","sp","spriteFrame","setInterval","queryPetStatus","eat","foodID","date","Date","year","getFullYear","month","getMonth","dat","getDate","hour","getHours","minute","getMinutes","second","getSeconds","timeStr","shower","bathToolID","goSleep","sleepEnd","goWork","workEnd","goTrip","tripEnd","walk","jump","happy","sad","skip","sleepAction","start","exit","clearInterval"],"mappings":"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","file":"pet.js","sourceRoot":"..\\..\\..\\..\\assets\\Global","sourcesContent":["// 宠物脚本\r\n\r\nvar GlobalData = require('globalData');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        image: cc.Sprite,\r\n        hungerLabel: cc.Node,\r\n        cleanessLabel: cc.Node,\r\n        thirstLabel: cc.Node,\r\n        moodLabel: cc.Node,\r\n        energyLabel: cc.Node,\r\n\r\n        species: null,\r\n        gender: null,\r\n        color: null,\r\n\r\n        //added by qll in 20200105\r\n        //宠物操作按钮启用标志位\r\n        flagPetOperBtnEnable : true,\r\n\r\n        // 宠物饥饿值\r\n        hunger: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._hunger;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet hunger is minimum\");\r\n                } else if (value > this.hungerCeiling) {\r\n                    value = this.hungerCeiling;\r\n                    console.log(\"pet hunger is max\");\r\n                }\r\n                this._hunger = value;\r\n                this.hungerLabel.height = this._hunger / this.hungerCeiling * this.hungerLabel.width;\r\n            }\r\n        },\r\n        // 宠物饥饿值上限\r\n        hungerCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._hungerCeiling;\r\n            },\r\n            set(value) {\r\n                this._hungerCeiling = value;\r\n            }\r\n        },\r\n        // 宠物清洁值\r\n        cleaness: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._cleaness;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet's cleanness is too low!\");\r\n                } else if (value > this.cleanessCeiling) {\r\n                    value = this.cleanessCeiling;\r\n                    console.log(\"pet cleaness is full!\");\r\n                }\r\n                this._cleaness = value;\r\n                this.cleanessLabel.height = this._cleaness / this.cleanessCeiling * this.cleanessLabel.width;\r\n            }\r\n        },\r\n        // 宠物清洁值上限\r\n        cleanessCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._cleanessCeiling;\r\n            },\r\n            set(value) {\r\n                this._cleanessCeiling = value;;\r\n            }\r\n        },\r\n        // 宠物口渴值\r\n        thirst: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._thirst;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet's thirst is too low\");\r\n                } else if (value > this.thirstCeiling) {\r\n                    value = this.thirstCeiling;\r\n                    console.log(\"pet's thirst is full\");\r\n                }\r\n                this._thirst = value;\r\n                this.thirstLabel.height = this._thirst / this.thirstCeiling * this.thirstLabel.width;\r\n            }\r\n        },\r\n        // 宠物口渴值上限\r\n        thirstCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._thirstCeiling;\r\n            },\r\n            set(value) {\r\n                this._thirstCeiling = value;;\r\n            }\r\n        },\r\n        // 宠物心情值\r\n        mood: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._mood;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet's mood is too low\");\r\n                } else if (value > this.moodCeiling) {\r\n                    value = this.moodCeiling;\r\n                    console.log(\"pet's mood is full\");\r\n                }\r\n                this._mood = value;\r\n                this.moodLabel.height = this._mood / this.moodCeiling * this.moodLabel.width;\r\n            }\r\n        },\r\n        // 宠物心情值上限\r\n        moodCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._moodCeiling;\r\n            },\r\n            set(value) {\r\n                this._moodCeiling = value;\r\n            }\r\n        },\r\n        // 宠物能量值\r\n        energy: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._energy;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet's energy is too low\");\r\n                } else if (value > this.energyCeiling) {\r\n                    value = this.energyCeiling;\r\n                    console.log(\"pet's energy is full\");\r\n                }\r\n                this._energy = value;\r\n                this.energyLabel.height = this._energy / this.energyCeiling * this.energyLabel.width;\r\n            }\r\n        },\r\n        // 宠物能量值上限\r\n        energyCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._energyCeiling;\r\n            },\r\n            set(value) {\r\n                this._energyCeiling = value;\r\n            }\r\n        },\r\n        // 宠物成长值\r\n        growth: {\r\n            default: 0,\r\n            type: cc.Integer,\r\n        },\r\n        // 宠物成长值上限  ----added by qll in 20191226\r\n        growthCeling: {\r\n            default: 0,\r\n            type: cc.Integer,\r\n        },\r\n        // 宠物成长等级\r\n        growthLevel: {\r\n            default: 0,\r\n            type: cc.Integer,\r\n        },\r\n        // 标志位：幼年or成年\r\n        flagAgeGroup: {\r\n            get() {\r\n                return this._flagAgeGroup;\r\n            },\r\n            set(value) {\r\n                this._flagAgeGroup = value;\r\n            }\r\n        },\r\n        //标志位_是否解锁“跳绳”操作\r\n        flagSkipping: {\r\n            get() {\r\n                return this._flagSkipping;\r\n            },\r\n            set(value) {\r\n                this._flagSkipping = value;\r\n            }\r\n        },\r\n        //标志位_是否解锁“讲故事”操作\r\n        flagStory: {\r\n            get() {\r\n                return this._flagStory;\r\n            },\r\n            set(value) {\r\n                this._flagStory = value;\r\n            }\r\n        },\r\n        //标志位-是否正在睡觉\r\n        flagSleep: {\r\n            get() {\r\n                return this._flagSleep;\r\n            },\r\n            set(value) {\r\n                if (value > 1 || value < 0) {\r\n                    value = 0;\r\n                }\r\n                if (value == 1) {\r\n                    this.flagPetOperBtnEnable = false;//禁用所有宠物操作按钮\r\n                } else if (value == 0) {\r\n                    this.flagPetOperBtnEnable = true;//启用所有宠物操作按钮\r\n                }\r\n                this._flagSleep = value;\r\n            }\r\n        },\r\n        //睡觉剩余时长\r\n        sleepRemainTime: {\r\n            get() {\r\n                return this._sleepRemainTime;\r\n            },\r\n            set(value) {\r\n                this._sleepRemainTime = value;\r\n            }\r\n        },\r\n        //标志位-是否正在打工\r\n        flagWork: {\r\n            get() {\r\n                return this._flagWork;\r\n            },\r\n            set(value) {\r\n                if (value > 1 || value < 0) {\r\n                    value = 0;\r\n                }\r\n                if (value == 1) {\r\n                    this.flagPetOperBtnEnable = false;//禁用所有宠物操作按钮\r\n                } else if (value == 0) {\r\n                    this.flagPetOperBtnEnable = true;//启用所有宠物操作按钮\r\n                }\r\n                this._flagWork = value;\r\n            }\r\n        },\r\n        //打工剩余时长\r\n        workRemainTime: {\r\n            get() {\r\n                return this._workRemainTime;\r\n            },\r\n            set(value) {\r\n                this._workRemainTime = value;\r\n            }\r\n        },\r\n        //标志位-是否正在旅游\r\n        flagTrip: {\r\n            get() {\r\n                return this._flagTrip;\r\n            },\r\n            set(value) {\r\n                if (value > 1 || value < 0) {\r\n                    value = 0;\r\n                }\r\n                if (value == 1) {\r\n                    this.flagPetOperBtnEnable = false;//禁用所有宠物操作按钮\r\n                } else if (value == 0) {\r\n                    this.flagPetOperBtnEnable = true;//启用所有宠物操作按钮\r\n                }\r\n                this._flagTrip = value;\r\n            }\r\n        },\r\n        //旅游剩余时长\r\n        tripRemainTime: {\r\n            get() {\r\n                return this._tripRemainTime;\r\n            },\r\n            set(value) {\r\n                this._tripRemainTime = value;\r\n            }\r\n        },\r\n        updateID: null,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\"\r\n        };\r\n        var self = this;\r\n        var serverAddr = 'https://www.llquruc.top/petGame/php/queryPetAttribute.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res != -1) {\r\n                // console.log(res);\r\n                self.species = parseInt(res.species);\r\n                self.gender = parseInt(res.gender);\r\n                self.color = parseInt(res.color);\r\n                // console.log(self.species);\r\n                self.hungerCeiling = parseInt(res.hungerCeiling);// 宠物饥饿值上限\r\n                self.cleanessCeiling = parseInt(res.cleanessCeiling);// 宠物清洁值上限\r\n                self.thirstCeiling = parseInt(res.thirstCeiling);// 宠物口渴值上限\r\n                self.moodCeiling = parseInt(res.moodCeiling);// 宠物心情值上限\r\n                self.energyCeiling = parseInt(res.energyCeiling);// 宠物能量值上限\r\n\r\n                self.hunger = parseInt(res.hunger);// 宠物饥饿值\r\n                self.cleaness = parseInt(res.cleaness);// 宠物清洁值\r\n                self.thirst = parseInt(res.thirst);// 宠物口渴值\r\n                self.mood = parseInt(res.mood);// 宠物心情值\r\n                self.energy = parseInt(res.energy);// 宠物能量值\r\n                self.growth = res.growth;// 宠物成长值\r\n                self.growthLevel = res.growthLevel;// 宠物成长等级\r\n                self.flagAgeGroup = res.flagAgeGroup;// 标志位：幼年or成年\r\n                self.flagSkipping = res.flagSkipping;// 标志位_是否解锁“跳绳”操作\r\n                self.flagStory = res.flagStory;// 标志位_是否解锁“讲故事”操作\r\n                self.flagSleep = res.flagSleep;// 标志位-是否正在睡觉\r\n                self.sleepRemainTime = res.sleepRemainTime;// 睡觉剩余时长\r\n                self.flagWork = res.flagWork;// 标志位-是否正在打工\r\n                self.workRemainTime = res.workRemainTime;// 打工剩余时长\r\n                self.flagTrip = res.flagTrip;// 标志位-是否正在旅游\r\n                self.tripRemainTime = res.tripRemainTime;// 旅游剩余时长\r\n                self.init();\r\n                console.log(self.flagSleep, self.flagTrip, self.flagWork);\r\n            }\r\n        });\r\n    },\r\n\r\n    init: function () {\r\n        let interval = 6000;  //6秒\r\n        let petImagePath = this.gender == 0 ? \"pet/male_\" : \"pet/female_\";\r\n        let self = this;\r\n        console.log(self.species);\r\n        if (self.species == 0) {\r\n            petImagePath += 'owl';\r\n        } else if (self.species == 1) {\r\n            petImagePath += 'penguins';\r\n        } else if (self.species == 2) {\r\n            petImagePath += 'cat';\r\n        } else if (self.species == 3) {\r\n            petImagePath += 'dog';\r\n        }\r\n        petImagePath += (self.color + 1) + '';\r\n\r\n        cc.loader.loadRes(petImagePath, cc.SpriteFrame, (err, sp) => {\r\n            if (err) {\r\n                console.log(err);\r\n                return;\r\n            }\r\n            console.log(\"success\");\r\n            if (self.image) {\r\n                self.image.spriteFrame = sp;\r\n            }\r\n        });\r\n        this.updateID = setInterval(this.queryPetStatus, interval, this);\r\n    },\r\n\r\n    /**\r\n     * 宠物喂食操作，根据食物的属性改变宠物相应的属性和动作\r\n     * @param { number } foodID \r\n     */\r\n    eat: function (foodID) {\r\n        console.log(\"eat\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\",\r\n            \"operationTime\": timeStr,\r\n            \"foodID\": foodID,\r\n            \"details\": \"\"\r\n        };\r\n        var self = this;\r\n        var serverAddr = 'https://www.llquruc.top/petGame/php/eat.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res != -1) {\r\n                console.log(\"eat food: \" + foodID);\r\n                self.queryPetStatus(self);\r\n            }\r\n        });\r\n\r\n    },\r\n\r\n    /**\r\n     * 宠物洗澡操作，根据洗澡用品的属性改变宠物相应的属性和动作\r\n     * @param { number } bathToolID\r\n     */\r\n    shower: function (bathToolID) {\r\n        console.log(\"shower\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\",\r\n            \"operationTime\": timeStr,\r\n            \"bathToolID\": bathToolID,\r\n            \"details\": \"\"\r\n        };\r\n        var self = this;\r\n        var serverAddr = 'https://www.llquruc.top/petGame/php/shower.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res != -1) {\r\n                console.log(\"take a shower with bathToolID:\" + bathToolID);\r\n                self.queryPetStatus(self);\r\n            }\r\n        });\r\n\r\n    },\r\n\r\n  \r\n    //  宠物睡觉操作\r\n    goSleep: function () {\r\n        if (this.flagPetOperBtnEnable == true) {\r\n            this.flagSleep = 1;\r\n        } else {\r\n            console.log(\"宠物正忙\");\r\n        }\r\n    },\r\n    // 宠物睡觉结束\r\n    sleepEnd: function () {\r\n        this.flagSleep = 0;\r\n    },\r\n\r\n    // 宠物工作操作\r\n    goWork: function () {\r\n        if (this.flagPetOperBtnEnable == true) {\r\n            this.flagWork = 1;\r\n        } else {\r\n            console.log(\"宠物正忙\");\r\n        }\r\n    },\r\n    // 宠物工作结束\r\n    workEnd: function () {\r\n        this.flagWork = 0;\r\n    },\r\n    /// 宠物工作操作\r\n    goTrip: function () {\r\n        if (this.flagPetOperBtnEnable == true) {\r\n            this.flagTrip = 1;\r\n        } else {\r\n            console.log(\"宠物正忙\");\r\n        }\r\n    },\r\n    // 宠物工作结束\r\n    tripEnd: function () {\r\n        this.flagTrip = 0;\r\n    },\r\n\r\n    // 宠物动作\r\n    walk: function () {\r\n\r\n    },\r\n\r\n    jump: function () {\r\n\r\n    },\r\n\r\n    happy: function () {\r\n\r\n    },\r\n\r\n    sad: function () {\r\n\r\n    },\r\n\r\n    skip: function () {\r\n\r\n    },\r\n\r\n    sleepAction: function () {\r\n\r\n    },\r\n\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    queryPetStatus: function (self) {\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\"\r\n        };\r\n        var serverAddr = 'https://www.llquruc.top/petGame/php/queryPetAttribute.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res != -1) {\r\n                // console.log(res);\r\n                self.hunger = parseInt(res.hunger);// 宠物饥饿值\r\n                console.log(self.hunger, res.hunger);\r\n                self.cleaness = parseInt(res.cleaness);// 宠物清洁值\r\n                self.thirst = parseInt(res.thirst);// 宠物口渴值\r\n                self.mood = parseInt(res.mood);// 宠物心情值\r\n                self.energy = parseInt(res.energy);// 宠物能量值\r\n                self.growth = res.growth;// 宠物成长值\r\n                self.growthLevel = res.growthLevel;// 宠物成长等级\r\n                self.flagAgeGroup = res.flagAgeGroup;// 标志位：幼年or成年\r\n                self.flagSkipping = res.flagSkipping;// 标志位_是否解锁“跳绳”操作\r\n                self.flagStory = res.flagStory;// 标志位_是否解锁“讲故事”操作\r\n                self.flagSleep = res.flagSleep;// 标志位-是否正在睡觉\r\n                self.sleepRemainTime = res.sleepRemainTime;// 睡觉剩余时长\r\n                self.flagWork = res.flagWork;// 标志位-是否正在打工\r\n                self.workRemainTime = res.workRemainTime;// 打工剩余时长\r\n                self.flagTrip = res.flagTrip;// 标志位-是否正在旅游\r\n                self.tripRemainTime = res.tripRemainTime;// 旅游剩余时长\r\n            }\r\n        });\r\n    },\r\n\r\n    exit: function () {  //退出该页面时调用此函数\r\n        clearInterval(this.updateID);\r\n    },\r\n    // 需要时刻刷新宠物状态，但是需要区别宠物正在进行的操作，还需要在update里添加一个计时器函数，\r\n    // update ( dt ) {\r\n    //     this.queryPetStatus();\r\n    // },\r\n});\r\n"]}