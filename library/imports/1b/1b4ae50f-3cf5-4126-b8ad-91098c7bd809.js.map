{"version":3,"sources":["..\\..\\..\\..\\assets\\Global/assets\\Global\\pet.js"],"names":["GlobalData","require","cc","Class","extends","Component","properties","image","Sprite","hungerLabel","Node","cleanessLabel","thirstLabel","moodLabel","energyLabel","species","gender","color","hunger","type","Integer","get","_hunger","set","value","console","log","hungerCeiling","height","width","_hungerCeiling","cleaness","_cleaness","cleanessCeiling","_cleanessCeiling","thirst","_thirst","thirstCeiling","_thirstCeiling","mood","_mood","moodCeiling","_moodCeiling","energy","_energy","energyCeiling","_energyCeiling","growth","default","growthLevel","flagAgeGroup","_flagAgeGroup","flagSkipping","_flagSkipping","flagStory","_flagStory","flagSleep","_flagSleep","flagWork","flagTrip","sleepRemainTime","_sleepRemainTime","_flagWork","workRemainTime","_workRemainTime","_flagTrip","tripRemainTime","_tripRemainTime","updateID","onLoad","data","self","serverAddr","HttpHelper","httpPost","res","parseInt","init","interval","petImagePath","loader","loadRes","SpriteFrame","err","sp","spriteFrame","eat","foodID","date","Date","year","getFullYear","month","getMonth","dat","getDate","hour","getHours","minute","getMinutes","second","getSeconds","timeStr","queryPetStatus","shower","bathToolID","sleep","time","work","travel","place","walk","jump","happy","sad","skip","sleepAction","start","exit","clearInterval"],"mappings":"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","file":"pet.js","sourceRoot":"..\\..\\..\\..\\assets\\Global","sourcesContent":["// 宠物脚本\r\n\r\nvar GlobalData = require('globalData');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        image: cc.Sprite,\r\n        hungerLabel: cc.Node,\r\n        cleanessLabel: cc.Node,\r\n        thirstLabel: cc.Node,\r\n        moodLabel: cc.Node,\r\n        energyLabel: cc.Node,\r\n\r\n        species: null,\r\n        gender: null,\r\n        color: null,\r\n        // 宠物饥饿值\r\n        hunger: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._hunger;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet hunger is minimum\");\r\n                } else if (value > this.hungerCeiling) {\r\n                    value = this.hungerCeiling;\r\n                    console.log(\"pet hunger is max\");\r\n                }\r\n                this._hunger = value;\r\n                this.hungerLabel.height = this._hunger / this.hungerCeiling * this.hungerLabel.width;\r\n            }\r\n        },\r\n        // 宠物饥饿值上限\r\n        hungerCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._hungerCeiling;\r\n            },\r\n            set(value) {\r\n                this._hungerCeiling = value;\r\n            }\r\n        },\r\n        // 宠物清洁值\r\n        cleaness: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._cleaness;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet's cleanness is too low!\");\r\n                } else if (value > this.cleanessCeiling) {\r\n                    value = this.cleanessCeiling;\r\n                    console.log(\"pet cleaness is full!\");\r\n                }\r\n                this._cleaness = value;\r\n                this.cleanessLabel.height = this._cleaness / this.cleanessCeiling * this.cleanessLabel.width;\r\n            }\r\n        },\r\n        // 宠物清洁值上限\r\n        cleanessCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._cleanessCeiling;\r\n            },\r\n            set(value) {\r\n                this._cleanessCeiling = value;;\r\n            }\r\n        },\r\n        // 宠物口渴值\r\n        thirst: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._thirst;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet's thirst is too low\");\r\n                } else if (value > this.thirstCeiling) {\r\n                    value = this.thirstCeiling;\r\n                    console.log(\"pet's thirst is full\");\r\n                }\r\n                this._thirst = value;\r\n                this.thirstLabel.height = this._thirst / this.thirstCeiling * this.thirstLabel.width;\r\n            }\r\n        },\r\n        // 宠物口渴值上限\r\n        thirstCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._thirstCeiling;\r\n            },\r\n            set(value) {\r\n                this._thirstCeiling = value;;\r\n            }\r\n        },\r\n        // 宠物心情值\r\n        mood: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._mood;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet's mood is too low\");\r\n                } else if (value > this.moodCeiling) {\r\n                    value = this.moodCeiling;\r\n                    console.log(\"pet's mood is full\");\r\n                }\r\n                this._mood = value;\r\n                this.moodLabel.height = this._mood / this.moodCeiling * this.moodLabel.width;\r\n            }\r\n        },\r\n        // 宠物心情值上限\r\n        moodCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._moodCeiling;\r\n            },\r\n            set(value) {\r\n                this._moodCeiling = value;\r\n            }\r\n        },\r\n        // 宠物能量值\r\n        energy: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._energy;\r\n            },\r\n            set(value) {\r\n                if (value < 0) {\r\n                    value = 0;\r\n                    console.log(\"pet's energy is too low\");\r\n                } else if (value > this.energyCeiling) {\r\n                    value = this.energyCeiling;\r\n                    console.log(\"pet's energy is full\");\r\n                }\r\n                this._energy = value;\r\n                this.energyLabel.height = this._energy / this.energyCeiling * this.energyLabel.width;\r\n            }\r\n        },\r\n        // 宠物能量值上限\r\n        energyCeiling: {\r\n            type: cc.Integer,\r\n            get() {\r\n                return this._energyCeiling;\r\n            },\r\n            set(value) {\r\n                this._energyCeiling = value;\r\n            }\r\n        },\r\n        // 宠物成长值\r\n        growth: {\r\n            default: 0,\r\n            type: cc.Integer,\r\n        },\r\n        // 宠物成长等级\r\n        growthLevel: {\r\n            default: 0,\r\n            type: cc.Integer,\r\n        },\r\n        // 标志位：幼年or成年\r\n        flagAgeGroup: {\r\n            get() {\r\n                return this._flagAgeGroup;\r\n            },\r\n            set(value) {\r\n                this._flagAgeGroup = value;\r\n            }\r\n        },\r\n        //标志位_是否解锁“跳绳”操作\r\n        flagSkipping: {\r\n            get() {\r\n                return this._flagSkipping;\r\n            },\r\n            set(value) {\r\n                this._flagSkipping = value;\r\n            }\r\n        },\r\n        //标志位_是否解锁“讲故事”操作\r\n        flagStory: {\r\n            get() {\r\n                return this._flagStory;\r\n            },\r\n            set(value) {\r\n                this._flagStory = value;\r\n            }\r\n        },\r\n        //标志位-是否正在睡觉\r\n        flagSleep: {\r\n            get() {\r\n                return this._flagSleep;\r\n            },\r\n            set(value) {\r\n                this._flagSleep = value;\r\n                if (value) {\r\n                    this.flagWork == false;\r\n                    this.flagTrip == false;\r\n                }\r\n            }\r\n        },\r\n        //睡觉剩余时长\r\n        sleepRemainTime: {\r\n            get() {\r\n                return this._sleepRemainTime;\r\n            },\r\n            set(value) {\r\n                this._sleepRemainTime = value;\r\n            }\r\n        },\r\n        //标志位-是否正在打工\r\n        flagWork: {\r\n            get() {\r\n                return this._flagWork;\r\n            },\r\n            set(value) {\r\n                this._flagWork = value;\r\n                if (value) {\r\n                    this.flagSleep == false;\r\n                    this.flagTrip == false;\r\n                }\r\n            }\r\n        },\r\n        //打工剩余时长\r\n        workRemainTime: {\r\n            get() {\r\n                return this._workRemainTime;\r\n            },\r\n            set(value) {\r\n                this._workRemainTime = value;\r\n            }\r\n        },\r\n        //标志位-是否正在旅游\r\n        flagTrip: {\r\n            get() {\r\n                return this._flagTrip;\r\n            },\r\n            set(value) {\r\n                this._flagTrip = value;\r\n                if (value) {\r\n                    this.flagWork == false;\r\n                    this.flagSleep == false;\r\n                }\r\n            }\r\n        },\r\n        //旅游剩余时长\r\n        tripRemainTime: {\r\n            get() {\r\n                return this._tripRemainTime;\r\n            },\r\n            set(value) {\r\n                this._tripRemainTime = value;\r\n            }\r\n        },\r\n        updateID: null,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\"\r\n        };\r\n        var self = this;\r\n        var serverAddr = 'https://www.llquruc.top/petGame/php/queryPetAttribute.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res != -1) {\r\n                console.log(res);\r\n                self.species = parseInt(res.species);\r\n                self.gender = parseInt(res.gender);\r\n                self.color = parseInt(res.color);\r\n                console.log(self.species);\r\n                self.hungerCeiling = parseInt(res.hungerCeiling);// 宠物饥饿值上限\r\n                self.cleanessCeiling = parseInt(res.cleanessCeiling);// 宠物清洁值上限\r\n                self.thirstCeiling = parseInt(res.thirstCeiling);// 宠物口渴值上限\r\n                self.moodCeiling = parseInt(res.moodCeiling);// 宠物心情值上限\r\n                self.energyCeiling = parseInt(res.energyCeiling);// 宠物能量值上限\r\n\r\n                self.hunger = parseInt(res.hunger);// 宠物饥饿值\r\n                self.cleaness = parseInt(res.cleaness);// 宠物清洁值\r\n                self.thirst = parseInt(res.thirst);// 宠物口渴值\r\n                self.mood = parseInt(res.mood);// 宠物心情值\r\n                self.energy = parseInt(res.energy);// 宠物能量值\r\n                self.growth = res.growth;// 宠物成长值\r\n                self.growthLevel = res.growthLevel;// 宠物成长等级\r\n                self.flagAgeGroup = res.flagAgeGroup;// 标志位：幼年or成年\r\n                self.flagSkipping = res.flagSkipping;// 标志位_是否解锁“跳绳”操作\r\n                self.flagStory = res.flagStory;// 标志位_是否解锁“讲故事”操作\r\n                self.flagSleep = res.flagSleep;// 标志位-是否正在睡觉\r\n                self.sleepRemainTime = res.sleepRemainTime;// 睡觉剩余时长\r\n                self.flagWork = res.flagWork;// 标志位-是否正在打工\r\n                self.workRemainTime = res.workRemainTime;// 打工剩余时长\r\n                self.flagTrip = res.flagTrip;// 标志位-是否正在旅游\r\n                self.tripRemainTime = res.tripRemainTime;// 旅游剩余时长\r\n                self.init();\r\n            }\r\n        });\r\n    },\r\n\r\n    init: function () {\r\n        let interval = 6000;  //6秒\r\n        let petImagePath = this.gender == 0 ? \"pet/male_\" : \"pet/female_\";\r\n        let self = this;\r\n        console.log(self.species);\r\n        if (self.species == 0) {\r\n            petImagePath += 'owl';\r\n        } else if (self.species == 1) {\r\n            petImagePath += 'penguins';\r\n        } else if (self.species == 2) {\r\n            petImagePath += 'cat';\r\n        } else if (self.species == 3) {\r\n            petImagePath += 'dog';\r\n        }\r\n        petImagePath += (self.color + 1) + '';\r\n\r\n        cc.loader.loadRes(petImagePath, cc.SpriteFrame, (err, sp) => {\r\n            if (err) {\r\n                console.log(err);\r\n                return;\r\n            }\r\n            console.log(\"success\");\r\n            if (self.image) {\r\n                self.image.spriteFrame = sp;\r\n            }\r\n        });\r\n        // this.updateID = setInterval(this.queryPetStatus, interval);\r\n    },\r\n\r\n    /**\r\n     * 宠物喂食操作，根据食物的属性改变宠物相应的属性和动作\r\n     * @param { number } foodID \r\n     */\r\n    eat: function (foodID) {\r\n        console.log(\"eat\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\",\r\n            \"operationTime\": timeStr,\r\n            \"foodID\": foodID,\r\n            \"details\": \"\"\r\n        };\r\n        var self = this;\r\n        var serverAddr = 'https://www.llquruc.top/petGame/php/eat.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res != -1) {\r\n                console.log(\"eat food: \" + foodID);\r\n                self.queryPetStatus();\r\n            }\r\n        });\r\n\r\n    },\r\n\r\n    /**\r\n     * 宠物洗澡操作，根据洗澡用品的属性改变宠物相应的属性和动作\r\n     * @param { number } bathToolID\r\n     */\r\n    shower: function (bathToolID) {\r\n        console.log(\"shower\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\",\r\n            \"operationTime\": timeStr,\r\n            \"bathToolID\": bathToolID,\r\n            \"details\": \"\"\r\n        };\r\n        var self = this;\r\n        var serverAddr = 'https://www.llquruc.top/petGame/php/shower.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res != -1) {\r\n                console.log(\"take a shower with bathToolID:\" + bathToolID);\r\n                self.queryPetStatus();\r\n            }\r\n        });\r\n\r\n    },\r\n\r\n    /**\r\n     * 宠物睡觉操作\r\n     * @param { Number } time\r\n     */\r\n    sleep: function (time) {\r\n\r\n    },\r\n\r\n    /**\r\n     * 宠物工作操作\r\n     * @param { Number } time 工作时长\r\n     * @param { Number } type 工种\r\n     */\r\n    work: function (time, type) {\r\n\r\n    },\r\n\r\n    /**\r\n     * 宠物工作操作\r\n     * @param { Number } time 旅游时长\r\n     * @param { Number } place 地点\r\n     */\r\n    travel: function (time, place) {\r\n\r\n    },\r\n\r\n    // 宠物动作\r\n    walk: function () {\r\n\r\n    },\r\n\r\n    jump: function () {\r\n\r\n    },\r\n\r\n    happy: function () {\r\n\r\n    },\r\n\r\n    sad: function () {\r\n\r\n    },\r\n\r\n    skip: function () {\r\n\r\n    },\r\n\r\n    sleepAction: function () {\r\n\r\n    },\r\n\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    queryPetStatus: function () {\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\"\r\n        };\r\n        var self = this;\r\n        var serverAddr = 'https://www.llquruc.top/petGame/php/queryPetAttribute.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res != -1) {\r\n                // console.log(res);\r\n                self.hunger = parseInt(res.hunger);// 宠物饥饿值\r\n                console.log(self.hunger, res.hunger);\r\n                self.cleaness = parseInt(res.cleaness);// 宠物清洁值\r\n                self.thirst = parseInt(res.thirst);// 宠物口渴值\r\n                self.mood = parseInt(res.mood);// 宠物心情值\r\n                self.energy = parseInt(res.energy);// 宠物能量值\r\n                self.growth = res.growth;// 宠物成长值\r\n                self.growthLevel = res.growthLevel;// 宠物成长等级\r\n                self.flagAgeGroup = res.flagAgeGroup;// 标志位：幼年or成年\r\n                self.flagSkipping = res.flagSkipping;// 标志位_是否解锁“跳绳”操作\r\n                self.flagStory = res.flagStory;// 标志位_是否解锁“讲故事”操作\r\n                self.flagSleep = res.flagSleep;// 标志位-是否正在睡觉\r\n                self.sleepRemainTime = res.sleepRemainTime;// 睡觉剩余时长\r\n                self.flagWork = res.flagWork;// 标志位-是否正在打工\r\n                self.workRemainTime = res.workRemainTime;// 打工剩余时长\r\n                self.flagTrip = res.flagTrip;// 标志位-是否正在旅游\r\n                self.tripRemainTime = res.tripRemainTime;// 旅游剩余时长\r\n            }\r\n        });\r\n    },\r\n\r\n    exit: function () {  //退出该页面时调用此函数\r\n        clearInterval(this.updateID);\r\n    },\r\n    // 需要时刻刷新宠物状态，但是需要区别宠物正在进行的操作，还需要在update里添加一个计时器函数，\r\n    // update ( dt ) {\r\n    //     this.queryPetStatus();\r\n    // },\r\n});\r\n"]}