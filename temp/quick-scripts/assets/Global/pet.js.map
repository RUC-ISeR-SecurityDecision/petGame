{"version":3,"sources":["pet.js"],"names":["GlobalData","require","cc","Class","extends","Component","properties","image","Sprite","onLoad","init","petImagePath","gender","self","species","color","loader","loadRes","SpriteFrame","err","sp","console","log","node","spriteFrame","eat","toiletries","shower","sleep","time","work","type","travel","place","waiting","hunger","cleaness","energy","thirst","growth","walk","jump","happy","sad","skip","sleepAction","start"],"mappings":";;;;;;AAAA;;AAEA,IAAIA,aAAaC,QAAQ,YAAR,CAAjB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAOL,GAAGM;AADF,KAHP;;AAOL;;AAEAC,UATK,oBASK;AACN,aAAKC,IAAL;AACH,KAXI;;;AAaLA,UAAM,gBAAY;AAAA;;AACd,YAAIC,eAAeX,WAAWY,MAAX,IAAqB,CAArB,GAAyB,WAAzB,GAAuC,aAA1D;AACA,YAAIC,OAAO,IAAX;AACA,YAAIb,WAAWc,OAAX,IAAsB,CAA1B,EAA6B;AACzBH,4BAAgB,KAAhB;AACH,SAFD,MAEO,IAAIX,WAAWc,OAAX,IAAsB,CAA1B,EAA6B;AAChCH,4BAAgB,UAAhB;AACH,SAFM,MAEA,IAAIX,WAAWc,OAAX,IAAsB,CAA1B,EAA6B;AAChCH,4BAAgB,KAAhB;AACH,SAFM,MAEA,IAAIX,WAAWc,OAAX,IAAsB,CAA1B,EAA6B;AAChCH,4BAAgB,KAAhB;AACH;AACDA,wBAAiBX,WAAWe,KAAX,GAAmB,CAApB,GAAyB,EAAzC;;AAEAb,WAAGc,MAAH,CAAUC,OAAV,CAAkBN,YAAlB,EAAgCT,GAAGgB,WAAnC,EAAgD,UAACC,GAAD,EAAMC,EAAN,EAAa;AACzD,gBAAID,GAAJ,EAAS;AACLE,wBAAQC,GAAR,CAAYH,GAAZ;AACA;AACH;AACD,gBAAI,MAAKI,IAAT,EAAe;AACXF,wBAAQC,GAAR,CAAY,SAAZ;AACA,oBAAIT,KAAKN,KAAT,EAAgB;AACZM,yBAAKN,KAAL,CAAWiB,WAAX,GAAyBJ,EAAzB;AACH;AACJ;AACJ,SAXD;AAYH,KAvCI;;AAyCL;;;;AAIAK,SAAK,aAAUC,UAAV,EAAsB,CAE1B,CA/CI;;AAiDL;;;;AAIAC,YAAQ,gBAAUD,UAAV,EAAsB,CAE7B,CAvDI;;AAyDL;;;;AAIAE,WAAO,eAAUC,IAAV,EAAgB,CAEtB,CA/DI;;AAiEL;;;;;AAKAC,UAAM,cAAUD,IAAV,EAAgBE,IAAhB,EAAsB,CAE3B,CAxEI;;AA0EL;;;;;AAKAC,YAAQ,gBAAUH,IAAV,EAAgBI,KAAhB,EAAuB,CAE9B,CAjFI;;AAmFL;AACAC,aAAS,mBAAY;AACjBlC,mBAAWmC,MAAX,IAAqB,CAArB;AACAnC,mBAAWoC,QAAX,IAAuB,CAAvB;AACApC,mBAAWqC,MAAX,IAAqB,CAArB;AACArC,mBAAWsC,MAAX,IAAqB,CAArB;AACAtC,mBAAWuC,MAAX,IAAqB,CAArB;AACH,KA1FI;;AA4FL;AACAC,UAAM,gBAAY,CAEjB,CA/FI;;AAiGLC,UAAM,gBAAY,CAEjB,CAnGI;;AAqGLC,WAAO,iBAAY,CAElB,CAvGI;;AAyGLC,SAAK,eAAY,CAEhB,CA3GI;;AA6GLC,UAAM,gBAAY,CAEjB,CA/GI;;AAiHLC,iBAAa,uBAAY,CAExB,CAnHI;;AAsHLC,SAtHK,mBAsHG,CAEP;AAxHI;;AA0HL;AACA;AACA;AACA;AA7HJ","file":"pet.js","sourceRoot":"..\\..\\..\\..\\assets\\Global","sourcesContent":["// 宠物脚本\n\nvar GlobalData = require('globalData');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        image: cc.Sprite,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.init();\n    },\n\n    init: function () {\n        let petImagePath = GlobalData.gender == 0 ? \"pet/male_\" : \"pet/female_\";\n        let self = this;\n        if (GlobalData.species == 0) {\n            petImagePath += 'owl';\n        } else if (GlobalData.species == 1) {\n            petImagePath += 'penguins';\n        } else if (GlobalData.species == 2) {\n            petImagePath += 'cat';\n        } else if (GlobalData.species == 3) {\n            petImagePath += 'dog';\n        }\n        petImagePath += (GlobalData.color + 1) + '';\n\n        cc.loader.loadRes(petImagePath, cc.SpriteFrame, (err, sp) => {\n            if (err) {\n                console.log(err);\n                return;\n            }\n            if (this.node) {\n                console.log(\"success\");\n                if (self.image) {\n                    self.image.spriteFrame = sp;\n                }\n            }\n        })\n    },\n\n    /**\n     * 宠物喂食操作，根据食物的属性改变宠物相应的属性和动作\n     * @param { shopItem } food \n     */\n    eat: function (toiletries) {\n\n    },\n\n    /**\n     * 宠物洗澡操作，根据洗澡用品的属性改变宠物相应的属性和动作\n     * @param { shopItem } toiletries\n     */\n    shower: function (toiletries) {\n\n    },\n\n    /**\n     * 宠物睡觉操作\n     * @param { Number } time\n     */\n    sleep: function (time) {\n\n    },\n\n    /**\n     * 宠物工作操作\n     * @param { Number } time 工作时长\n     * @param { Number } type 工种\n     */\n    work: function (time, type) {\n\n    },\n\n    /**\n     * 宠物工作操作\n     * @param { Number } time 旅游时长\n     * @param { Number } place 地点\n     */\n    travel: function (time, place) {\n\n    },\n\n    // 宠物空闲时间的属性变化及动作\n    waiting: function () {\n        GlobalData.hunger -= 1;\n        GlobalData.cleaness -= 1;\n        GlobalData.energy -= 1;\n        GlobalData.thirst -= 1;\n        GlobalData.growth += 1;\n    },\n\n    // 宠物动作\n    walk: function () {\n\n    },\n\n    jump: function () {\n\n    },\n\n    happy: function () {\n\n    },\n\n    sad: function () {\n\n    },\n\n    skip: function () {\n\n    },\n\n    sleepAction: function () {\n\n    },\n\n\n    start() {\n\n    },\n\n    // 需要时刻刷新宠物状态，但是需要区别宠物正在进行的操作，还需要在update里添加一个计时器函数，\n    // update (dt) {\n    //     this.waiting();\n    // },\n});\n"]}