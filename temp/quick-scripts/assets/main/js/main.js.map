{"version":3,"sources":["main.js"],"names":["GlobalData","require","cc","Class","extends","Component","properties","profile","Sprite","pet","shop","tripBtn","workBtn","homeBtn","sleepBtn","functionBtn","Button","hunger","Label","hungerCeiling","cleaness","cleanessCeiling","thirst","thirstCeiling","mood","moodCeiling","energy","energyCeiling","growth","growthLevel","coin","_isFunctionShow","_isBagShow","_isSleepSettingShow","_isWorkSettingShow","_isTripSettingShow","_isPlaySettingShow","_isClockShow","_isLoginRewardShow","_isContLoginRewardShow","_isRandomRewardShow","_isUpgradeRewardShow","timeIndex","workTypeID","workTimeID","tripLocID","tripTimeID","sleepTimeID","updateID","genLoginReward","date","Date","year","getFullYear","month","getMonth","dat","getDate","hour","getHours","minute","getMinutes","second","getSeconds","timeStr","serverAddr","instance","$","ajax","url","type","dataType","json","data","userID","genTime","rewardCategoryID","rewardLevel","success","res","console","log","loginRewardCoin","rewardCoin","loginRewardGrowth","rewardGrowth","genContLoginReward","contLoginDays","contLoginRewardCoin","contLoginRewardGrowth","login","flagContLoginReward","flagLoginReward","wx","js_code","code","flagLocation","loginTime","flagNewUser","Number","director","loadScene","queryAttribute","autoUpdate","string","flagRandomReward","flagUpgradeReward","init","sprite","species","loader","loadRes","SpriteFrame","err","sp","node","spriteFrame","interval","setInterval","exit","clearInterval","onPlusBtnClicked","interactable","showFunction","actionSleepBtn","actionWorkBtn","actionTripBtn","funcBtnEnd","callFunc","actionPlusBtn","sequence","rotateBy","spawn","moveBy","v2","fadeOut","fadeIn","runAction","onLoad","start","bindEnter","e","detail","userInfo","userGender","gender","userName","nickName","showModal","title","content","confirm","openSetting","getSetting","authSetting","settingdata","cancel","lastLoginTime","name","color","flagAgeGroup","flagSkipping","flagStory","flagSleep","sleepRemainTime","flagWork","workRemainTime","flagTrip","tripRemainTime","flagBgMusic","bgMusicVolume","bgMusicNum","bgPicNum","flagSound","soundVolume","flagNotice","flagVibration","bag","itemIDArrayStr","itemIDArray","itemNameArrayStr","itemNameArray","categoryIDArrayStr","categoryIDArray","categoryNameArrayStr","categoryNameArray","numberArrayStr","numberArray","categoryArray","flagEnableArrayStr","flagEnableArray","onClickGetReward","details","toString","rewardItemID","rewardItemCateID","upgradeRewardCoin","upgradeRewardItemID","upgradeRewardItemCateID","randomRewardItemID","randomRewardItemCateID","getTime","onClickEatBtn","onClickFood","foodID","operationTime","onClickShowerBtn","onClickShowerTool","toolID","bathToolID","onClickDrinkBtn","onClickPlayBtn","onClickSubPlayBtn","playID","startCountDown","operationName","time","question","answer","picAddr","onClickWorkBtn","promptStr","alert","onClickWorkTypeBtn","onClickWorkTimeBtn","onClickConfirmWork","onClickTripBtn","onClickTripLocBtn","onClickTripTimeBtn","onClickConfirmTrip","onClickSleepBtn","onClickSleepTimeBtn","onClickConfirmSleep","onClickHomeBtn","onClickSettingBtn","onClickShopBtn","onClickUserInfoBtn"],"mappings":"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","file":"main.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\main\\js","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nvar GlobalData = require('globalData');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        profile: cc.Sprite,\r\n        pet: cc.Sprite,\r\n        shop: cc.Sprite,\r\n        tripBtn: cc.Sprite,\r\n        workBtn: cc.Sprite,\r\n        homeBtn: cc.Sprite,\r\n        sleepBtn: cc.Sprite,\r\n        functionBtn: cc.Button,\r\n\r\n        //以下为页面中需要展示的值\r\n        hunger: cc.Label, // 饥饿值\r\n        hungerCeiling: cc.Label, // 饥饿值上限\r\n        cleaness: cc.Label, // 清洁值\r\n        cleanessCeiling: cc.Label, // 清洁值上限\r\n        thirst: cc.Label, // 口渴值\r\n        thirstCeiling: cc.Label, // 口渴值上限\r\n        mood: cc.Label, // 心情值\r\n        moodCeiling: cc.Label, // 心情值上限\r\n        energy: cc.Label, // 能量值\r\n        energyCeiling: cc.Label, // 能量值上限\r\n        growth: cc.Label, // 成长值\r\n        growthLevel: cc.Label, // 成长值等级\r\n        coin: cc.Label, // 金币值\r\n\r\n        _isFunctionShow: true,\r\n        //author:qll\r\n        //time:2019.12.4\r\n        _isBagShow : false,  //标志位_是否展示背包\r\n        _isSleepSettingShow : false, //标志位_是否展示睡觉设置框\r\n        _isWorkSettingShow : false,  //标志位_是否展示工作设置框\r\n        _isTripSettingShow : false,  //标志位_是否展示旅游设置框\r\n        _isPlaySettingShow : false,  //标志位_是否展示玩耍子操作框\r\n        _isClockShow : false,  //标志位_是否显示倒计时（用于睡觉、打工和旅游）\r\n        \r\n        _isLoginRewardShow : false,  //标志位_是否显示登录奖励\r\n        _isContLoginRewardShow : false,  //标志位_是否显示连续登录奖励\r\n        _isRandomRewardShow : false,  //标志位_是否显示随机奖励\r\n        _isUpgradeRewardShow : false,  //标志位_是否显示升级奖励\r\n        \r\n        timeIndex: [0, 30, 40, 50, 60],  //不同的时间ID对应的具体秒数（适用于旅游、打工和睡觉操作）P.S. ID0是无效的\r\n\r\n        workTypeID : 0,  //工种设置\r\n        workTimeID : 0,  //工时设置\r\n    \r\n        tripLocID: 0,  //旅游地点设置\r\n        tripTimeID: 0,  //旅游时长设置\r\n\r\n        sleepTimeID: 0,  //睡觉时间设置\r\n\r\n        updateID : 0,  //用于退出该页面时清除interval\r\n    },\r\n\r\n    //生成登录奖励\r\n    genLoginReward: function(){\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/genReward.php\";\r\n        var instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                genTime: timeStr,\r\n                rewardCategoryID: 1,\r\n                rewardLevel: 1,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.loginRewardCoin = res.rewardCoin;//奖励金币数\r\n                GlobalData.loginRewardGrowth = res.rewardGrowth;//奖励成长值\r\n                instance._isLoginRewardShow = true;\r\n            },\r\n        });\r\n    },\r\n\r\n    //生成连续登录奖励\r\n    genContLoginReward: function(){\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/genReward.php\";\r\n        var instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                genTime: timeStr,\r\n                rewardCategoryID: 2,\r\n                rewardLevel: GlobalData.contLoginDays,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.contLoginRewardCoin = res.rewardCoin;//奖励金币数\r\n                GlobalData.contLoginRewardGrowth = res.rewardGrowth;//奖励成长值\r\n                instance._isContLoginRewardShow = true;\r\n            },\r\n        });\r\n    },\r\n\r\n    /**\r\n     *  登录函数\r\n     *  需要微信接口，测试时可以先注释掉\r\n     *  author: qll\r\n     *  time: 2019/12/2\r\n     */\r\n    login: function() {  \r\n        var flagContLoginReward = 0; \r\n        var flagLoginReward = 0; \r\n        wx.login({\r\n            success: res => {\r\n                // 发送 res.code 到后台并收取生成的userID，\r\n                let js_code = res.code;\r\n                console.log(js_code);\r\n                let date = new Date();\r\n                let year = date.getFullYear(); //获取当前年份   \r\n                let month = date.getMonth() + 1; //获取当前月份   \r\n                let dat = date.getDate(); //获取当前日    \r\n                let hour = date.getHours(); //获取小时   \r\n                let minute = date.getMinutes(); //获取分钟   \r\n                let second = date.getSeconds(); //获取秒   \r\n                let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n                let flagLocation = GlobalData.flagLocation;\r\n                let serverAddr = GlobalData.serverAddr + \"php/login.php\";\r\n                $.ajax({\r\n                    url: serverAddr,\r\n                    type: 'POST',\r\n                    dataType: json,\r\n                    data: {\r\n                        js_code: js_code,\r\n                        loginTime: timeStr,\r\n                        flagLocation: flagLocation,\r\n                    },\r\n                    success(res) {\r\n                        console.log(res);\r\n                        GlobalData.userID = res.userID;\r\n                        GlobalData.flagNewUser = Number(res.flagNewUser);\r\n                        GlobalData.contLoginDays = Number(res.contLoginDays);\r\n                        flagContLoginReward = Number(res.flagContLoginReward);\r\n                        flagLoginReward = Number(res.flagLoginReward);\r\n                    },\r\n                });\r\n            }\r\n        })\r\n        console.log('登录完成'); \r\n        \r\n        if (GlobalData.flagNewUser == 1)//新用户，跳到领养界面\r\n        {\r\n            cc.director.loadScene(\"adopt\");\r\n        }\r\n        else   //老用户，查询属性信息，恢复场景，生成奖励\r\n        {\r\n            this.queryAttribute();\r\n            if(flagLoginReward == 1){\r\n                this.genLoginReward();\r\n            }\r\n            if(flagContLoginReward == 1){\r\n                this.genContLoginReward();\r\n            }\r\n        }\r\n    },\r\n\r\n    autoUpdate: function(){\r\n        this.hunger.string = GlobalData.hunger;  // 饥饿值\r\n        this.cleaness.string = GlobalData.cleaness; // 清洁值\r\n        this.thirst.string = GlobalData.thirst; // 口渴值\r\n        this.mood.string = GlobalData.mood; // 心情值\r\n        this.energy.string = GlobalData.energy; // 能量值\r\n        this.growth.string = GlobalData.growth; // 成长值\r\n        this.growthLevel.string = GlobalData.growthLevel; // 成长值等级\r\n        this.coin.string = GlobalData.coin; // 金币值\r\n        //检查是否有奖励生成（仅限随机和升级）\r\n        if(GlobalData.flagRandomReward == true){\r\n            this._isRandomRewardShow = true;  //在主界面某处出现随机奖励\r\n        }\r\n        if(GlobalData.flagUpgradeReward == true){\r\n            this._isUpgradeRewardShow = true;  //弹出升级奖励框\r\n        }\r\n    },\r\n\r\n    init: function() {   //进入该页面时调用此函数\r\n        // 初始化宠物形象\r\n        let sprite = this.pet;\r\n        if (GlobalData.species == 0) {\r\n            cc.loader.loadRes(\"owl-simple\", cc.SpriteFrame, (err, sp) => {\r\n                console.log(err);\r\n                if (err) return;\r\n                if (this.node) {\r\n                    console.log(\"success\");\r\n                    if(sprite){\r\n                        sprite.spriteFrame = sp;\r\n                    }\r\n                }\r\n            })\r\n        } else if (GlobalData.species == 1) {\r\n            cc.loader.loadRes(\"penguin-simple\", cc.SpriteFrame, (err, sp) => {\r\n                console.log(err);\r\n                if (err) return;\r\n                if (this.node) {\r\n                    console.log(\"success\");\r\n                    if(sprite){\r\n                        sprite.spriteFrame = sp;\r\n                    }\r\n                }\r\n            })\r\n        } else if (GlobalData.species == 2) {\r\n            cc.loader.loadRes(\"cat-simple\", cc.SpriteFrame, (err, sp) => {\r\n                console.log(err);\r\n                if (err) return;\r\n                if (this.node) {\r\n                    console.log(\"success\");\r\n                    if(sprite){\r\n                        sprite.spriteFrame = sp;\r\n                    }\r\n                }\r\n            })\r\n        } else if (GlobalData.species == 3) {\r\n            cc.loader.loadRes(\"dog-simple\", cc.SpriteFrame, (err, sp) => {\r\n                console.log(err);\r\n                if (err) return;\r\n                if (this.node) {\r\n                    console.log(\"success\");\r\n                    if(sprite){\r\n                        sprite.spriteFrame = sp;\r\n                    }\r\n                }\r\n            })\r\n        }  \r\n        //开始实时更新宠物属性值\r\n        var interval = 1000;  //1秒\r\n        this.updateID = setInterval(this.autoUpdate, interval);  \r\n        this._isFunctionShow = true;\r\n    },\r\n\r\n    exit: function(){  //退出该页面时调用此函数\r\n        clearInterval(this.updateID);\r\n    },\r\n\r\n    onPlusBtnClicked: function() {\r\n        // 动作期间禁用功能按钮\r\n        this.functionBtn.interactable = false;\r\n        this.showFunction();\r\n    },\r\n\r\n    showFunction: function() {\r\n        this._isFunctionShow = !this._isFunctionShow;\r\n        let actionSleepBtn = null;\r\n        let actionWorkBtn = null;\r\n        let actionTripBtn = null;\r\n        // 动作结束时触发回调函数，让功能按钮恢复使用\r\n        let funcBtnEnd = cc.callFunc(function () {\r\n            this.functionBtn.interactable = true;\r\n        }, this, null);\r\n        let actionPlusBtn = cc.sequence(cc.rotateBy(0.7, 360), funcBtnEnd);\r\n        if (!this._isFunctionShow) {\r\n            actionTripBtn = cc.spawn(cc.moveBy(0.5, cc.v2(0, -100)), cc.fadeOut(0.7));\r\n            actionWorkBtn =  cc.spawn(cc.moveBy(0.6, cc.v2(0, -194)), cc.fadeOut(0.7));\r\n            actionSleepBtn = cc.spawn(cc.moveBy(0.7, cc.v2(0, -288)), cc.fadeOut(0.7));\r\n        } else {\r\n            actionTripBtn = cc.spawn(cc.moveBy(0.5, cc.v2(0, 100)), cc.fadeIn(0.5));\r\n            actionWorkBtn =  cc.spawn(cc.moveBy(0.6, cc.v2(0, 194)), cc.fadeIn(0.5));\r\n            actionSleepBtn = cc.spawn(cc.moveBy(0.7, cc.v2(0, 288)), cc.fadeIn(0.5));\r\n        }\r\n        this.tripBtn.node.runAction(actionTripBtn);\r\n        this.workBtn.node.runAction(actionWorkBtn);\r\n        this.sleepBtn.node.runAction(actionSleepBtn);\r\n        this.functionBtn.node.runAction(actionPlusBtn);\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        console.log(GlobalData);\r\n        this.init();\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    /**\r\n     * 进入游戏”按键所对应的事件处理函数，在用户的授权下获得并更新一些用户信息\r\n     * 需要微信接口，测试时可以先注释掉\r\n     * author: qll\r\n     * time: 2019/12/4\r\n     */\r\n    bindEnter: function(e) {\r\n        var instance = this;\r\n        if (e.detail.userInfo) \r\n        {   //获得用户的微信账户信息\r\n            console.log(e.detail.userInfo);\r\n            GlobalData.userGender = e.detail.userInfo.gender;\r\n            GlobalData.userName = e.detail.userInfo.nickName;\r\n        } \r\n        else \r\n        {\r\n            wx.showModal({\r\n                title: '用户未授权',\r\n                content: '拒绝授权将不能体验小游戏完整功能，点击确定开启授权',\r\n                success: (res) => {\r\n                    console.log(res);\r\n                    if (res.confirm) {\r\n                        wx.openSetting({});\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        //询问用户是否授权位置信息（一个实际上不必要的授权，用来测试用户的安全意识）\r\n        wx.getSetting({\r\n            success(res) {\r\n                if (res.authSetting['scope.userLocation'] != true) \r\n                {\r\n                    wx.showModal({\r\n                        title: '定位授权',\r\n                        content: '萌宠物语请求获得您的位置信息，请确认授权',\r\n                        success: (res) => {\r\n                            console.log(res);\r\n                            if (res.confirm) \r\n                            {\r\n                                wx.openSetting({\r\n                                    success(settingdata) {\r\n                                        console.log(settingdata);\r\n                                        if (settingdata.authSetting['scope.userLocation']) \r\n                                        {\r\n                                            GlobalData.flagLocation = 1;\r\n                                            console.log(\"位置授权成功\");\r\n                                            instance.login();\r\n                                        } \r\n                                        else \r\n                                        {\r\n                                            GlobalData.flagLocation = 0;\r\n                                            console.log(\"取消位置授权\");\r\n                                            instance.login();\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                            if(res.cancel)\r\n                            {\r\n                                GlobalData.flagLocation = 0;\r\n                                console.log(\"位置授权失败\");\r\n                                instance.login();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }); \r\n    },\r\n  \r\n    queryAttribute: function (){\r\n        var serverAddr = GlobalData.serverAddr + \"php/queryUserAttribute.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.coin = res.coin;//金币值\r\n                GlobalData.title = res.title;//主人称呼\r\n            },\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryPetAttribute.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.lastLoginTime = res.lastLoginTime;//上一次登录时间\r\n                GlobalData.contLoginDays = res.contLoginDays; //连续登录天数\r\n                GlobalData.species = res.species;// 宠物种类\r\n                GlobalData.name = res.name;// 宠物名字\r\n                GlobalData.gender = res.gender;//  宠物性别\r\n                GlobalData.color = res.color;// 宠物毛色\r\n                GlobalData.hunger = res.hunger;// 宠物饥饿值\r\n                GlobalData.hungerCeiling = res.hungerCeiling;// 宠物饥饿值上限\r\n                GlobalData.cleaness = res.cleaness;// 宠物清洁值\r\n                GlobalData.cleanessCeiling = res.cleanessCeiling;// 宠物清洁值上限\r\n                GlobalData.thirst = res.thirst;// 宠物口渴值\r\n                GlobalData.thirstCeiling = res.thirstCeiling;// 宠物口渴值上限\r\n                GlobalData.mood = res.mood;// 宠物心情值\r\n                GlobalData.moodCeiling = res.moodCeiling;// 宠物心情值上限\r\n                GlobalData.energy = res.energy;// 宠物能量值\r\n                GlobalData.energyCeiling = res.energyCeiling;// 宠物能量值上限\r\n                GlobalData.growth = res.growth;// 宠物成长值\r\n                GlobalData.growthLevel = res.growthLevel;// 宠物成长等级\r\n                GlobalData.flagAgeGroup = res.flagAgeGroup;// 标志位：幼年or成年\r\n                GlobalData.flagSkipping = res.flagSkipping;//标志位_是否解锁“跳绳”操作\r\n                GlobalData.flagStory = res.flagStory;//标志位_是否解锁“讲故事”操作\r\n                GlobalData.flagSleep = res.flagSleep;//标志位-是否正在睡觉\r\n                GlobalData.sleepRemainTime = res.sleepRemainTime;//睡觉剩余时长\r\n                GlobalData.flagWork = res.flagWork;//标志位-是否正在打工\r\n                GlobalData.workRemainTime = res.workRemainTime;//打工剩余时长\r\n                GlobalData.flagTrip = res.flagTrip;//标志位-是否正在旅游\r\n                GlobalData.tripRemainTime = res.tripRemainTime;//旅游剩余时长\r\n            },\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/querySetting.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.flagBgMusic = res.flagBgMusic;//标志位_是否开启背景音乐\r\n                GlobalData.bgMusicVolume = res.bgMusicVolume;//背景音乐音量\r\n                GlobalData.bgMusicNum = res.bgMusicNum;//背景音乐曲目编号\r\n                GlobalData.bgPicNum = res.bgPicNum;//背景图片编号\r\n                GlobalData.flagSound = res.flagSound;//标志位_是否开启音效\r\n                GlobalData.soundVolume = res.soundVolume;//音效音量\r\n                GlobalData.flagNotice = res.flagNotice;//标志位_是否开启推送通知\r\n                GlobalData.flagLocation = res.flagLocation;//标志位_是否开启摄像头权限\r\n                GlobalData.flagVibration = res.flagVibration;//标志位_是否开启震动\r\n            },\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryBag.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.bag.itemIDArrayStr = res.itemIDArray;//物品ID数组\r\n                GlobalData.bag.itemNameArrayStr = res.itemNameArray;//物品名称数组（英文）\r\n                GlobalData.bag.categoryIDArrayStr = res.categoryIDArray;//物品类别ID数组\r\n                GlobalData.bag.categoryNameArrayStr = res.categoryNameArray;//物品类别名称数组\r\n                GlobalData.bag.numberArrayStr = res.numberArray;//物品数量数组\r\n            },\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryDecBag.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.bag.itemIDArrayStr = res.itemIDArray;//物品ID数组\r\n                GlobalData.bag.itemNameArrayStr = res.itemNameArray;//物品名称数组（英文）\r\n                GlobalData.bag.categoryIDArrayStr = res.categoryArray;//物品类别ID数组\r\n                GlobalData.bag.categoryNameArrayStr = res.categoryNameArray;//物品类别名称数组\r\n                GlobalData.bag.flagEnableArrayStr = res.flagEnableArray;//物品是否启用的标志位数组\r\n            },\r\n        });\r\n    },\r\n\r\n    //点击获取奖励\r\n    //参数说明：1：登录奖励；2：连续登录奖励；3：升级奖励；4：随机奖励\r\n    onClickGetReward: function(rewardCategoryID){\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/getReward.php\";\r\n        var details = 'Category:' + rewardCategoryID.toString();\r\n        var rewardCoin = 0;\r\n        var rewardGrowth = 0;\r\n        var rewardItemID = 0;\r\n        var rewardItemCateID = 0;\r\n        if(rewardCategoryID == 1){  //登录奖励\r\n            rewardCoin = GlobalData.loginRewardCoin;\r\n            rewardGrowth = GlobalData.loginRewardGrowth;\r\n        }\r\n        else if(rewardCategoryID == 2){  //连续登录奖励\r\n            rewardCoin = GlobalData.contLoginRewardCoin;\r\n            rewardGrowth = GlobalData.contLoginRewardGrowth;\r\n        }\r\n        else if(rewardCategoryID == 3){  //升级奖励\r\n            rewardCoin = GlobalData.upgradeRewardCoin;\r\n            rewardItemID = GlobalData.upgradeRewardItemID;\r\n            rewardItemCateID = GlobalData.upgradeRewardItemCateID;\r\n        }\r\n        else{  //随机奖励\r\n            rewardItemID = GlobalData.randomRewardItemID;\r\n            rewardItemCateID = GlobalData.randomRewardItemCateID;\r\n        }\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                getTime: timeStr,\r\n                rewardCoin: rewardCoin,\r\n                rewardGrowth: rewardGrowth,\r\n                rewardItemID: rewardItemID,\r\n                rewardItemCateID: rewardItemCateID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n            },\r\n        });\r\n    },\r\n\r\n    onClickEatBtn: function(){  //点击吃饭按钮\r\n        console.log(\"点击吃饭\");\r\n        this._isBagShow = true;  //显示背包\r\n    },\r\n\r\n    onClickFood: function(foodID){  //点击食物\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/eat.php\";\r\n        let details = '';\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                foodID: foodID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            },\r\n        });\r\n    },\r\n\r\n    onClickShowerBtn: function(){  //点击洗澡按钮\r\n        console.log(\"点击洗澡\");\r\n        this._isBagShow = true;  //显示背包\r\n    },\r\n\r\n    onClickShowerTool: function(toolID){  //点击洗澡工具\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/shower.php\";\r\n        let details = '';\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                bathToolID: toolID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            },\r\n        });\r\n    },\r\n\r\n    onClickDrinkBtn: function(){  //点击喝水按钮\r\n        console.log(\"点击喝水\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/drink.php\";\r\n        let details = '';\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            },\r\n        });\r\n    },\r\n\r\n    onClickPlayBtn: function(){  //点击玩耍按钮\r\n        console.log(\"点击玩耍\");\r\n        this._isPlaySettingShow = true;  //显示玩耍子类别按钮\r\n    },\r\n\r\n    onClickSubPlayBtn: function(playID){  //点击玩耍子类别按钮\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/play.php\";\r\n        let details = '';\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                playID: playID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            },\r\n        });\r\n    },\r\n\r\n    startCountDown: function(operationName, time, question, answer, picAddr){  //该函数待实现\r\n        //参数的意义：operationName表示到底是为了什么操作而进行倒计时（work或trip或sleep）\r\n        //time表示时间\r\n        //question和answer分别表示结束后问答环节的问题和答案\r\n        //picAddr表示提供的图片\r\n    },\r\n\r\n    onClickWorkBtn: function(){  //点击主界面上的打工按钮\r\n        console.log(\"点击打工\");\r\n        if(GlobalData.energy >= 50 && GlobalData.mood >= 30)\r\n        {\r\n            this._isWorkSettingShow = true;  //显示打工设置框\r\n        }\r\n        else{\r\n            let promptStr = '宠物能量值不低于50且心情值不低于30才可以去打工哟~~';\r\n            alert(promptStr);\r\n        }\r\n    },\r\n\r\n    onClickWorkTypeBtn: function(workTypeID){  //点击工种设置按钮\r\n        console.log('设置工种为：', workTypeID);\r\n        this.workTypeID = workTypeID;\r\n    },\r\n\r\n    onClickWorkTimeBtn: function(workTimeID){  //点击工时设置按钮\r\n        console.log('设置工时为：', workTimeID);\r\n        this.workTimeID = workTimeID;\r\n    },\r\n\r\n    onClickConfirmWork: function(){//完成所有设置后，点击“去打工”\r\n        console.log(\"确认打工\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/work.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                workTimeID: instance.workTimeID,\r\n                workTypeID: instance.workTypeID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('work', instance.timeIndex[instance.workTimeID], res.question, res.answer, res.picAddr); \r\n            },\r\n        });\r\n        \r\n    },\r\n\r\n    onClickTripBtn: function(){  //点击主界面上的旅游按钮\r\n        console.log(\"点击旅游\");\r\n        if(GlobalData.energy >= 50)\r\n        {\r\n            this._isTripSettingShow = true;  //显示旅游设置框\r\n        }\r\n        else{\r\n            let promptStr = '宠物能量值不低于50才可以去旅游哟~~';\r\n            alert(promptStr);\r\n        }\r\n    },\r\n\r\n    onClickTripLocBtn: function(tripLocID){  //点击旅游地点设置按钮\r\n        console.log('设置旅游地点为：', tripLocID);\r\n        this.tripLocID = tripLocID;\r\n    },\r\n\r\n    onClickTripTimeBtn: function(tripTimeID){  //点击旅游时间设置按钮\r\n        console.log('设置旅游时间为：', tripTimeID);\r\n        this.tripTimeID = tripTimeID;\r\n    },\r\n    \r\n    onClickConfirmTrip: function(){//完成所有设置后，点击“去旅游”\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/trip.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                tripTimeID: instance.tripTimeID,\r\n                tripLocID: instance.tripLocID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('trip', instance.timeIndex[instance.tripTimeID], res.question, res.answer, res.picAddr); \r\n            },\r\n        });\r\n        \r\n    },\r\n\r\n    onClickSleepBtn: function(){  //点击主界面上的睡觉按钮\r\n        console.log(\"点击睡觉\");\r\n        this._isSleepSettingShow = true;  //显示睡觉设置框\r\n    },\r\n\r\n    onClickSleepTimeBtn: function(sleepTimeID){  //点击睡觉时间设置按钮\r\n        console.log('设置睡觉时间为：', sleepTimeID);\r\n        this.sleepTimeID = sleepTimeID;\r\n    },\r\n    \r\n    onClickConfirmSleep: function(){//完成所有设置后，点击“去睡觉”\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/sleep.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                sleepTimeID: instance.sleepTimeID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('sleep', instance.timeIndex[instance.sleepTimeID], null, null, null); \r\n            },\r\n        });\r\n        \r\n    },\r\n\r\n    onClickHomeBtn: function(){  //跳转到小屋界面\r\n        this.exit();\r\n        cc.director.loadScene('home');\r\n    },\r\n\r\n    onClickSettingBtn: function(){  //跳转到设置界面\r\n        this.exit();\r\n        cc.director.loadScene('setting');\r\n    },\r\n\r\n    onClickShopBtn: function(){  //跳转到商店界面  P.S.这个按钮应该在两个地方都有出现：主界面and背包框\r\n        this.exit();\r\n        cc.director.loadScene('shop');\r\n    },\r\n\r\n    onClickUserInfoBtn: function(){  //跳转到个人信息界面\r\n        this.exit();\r\n        cc.director.loadScene('userInfo');\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}