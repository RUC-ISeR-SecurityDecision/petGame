{"version":3,"sources":["main.js"],"names":["GlobalData","require","BagItem","id","name","categoryID","categoryName","number","cc","Class","extends","Component","properties","profile","Sprite","shop","tripBtn","workBtn","homeBtn","sleepBtn","settingBtn","functionBtn","Button","bag","Node","bagContent","Layout","bagCloseBtn","bagItemArray","pet","coin","Label","_isFunctionShow","isBagShow","get","_isBagShow","set","value","closeBag","openBag","_isSleepSettingShow","_isWorkSettingShow","_isTripSettingShow","_isPlaySettingShow","_isClockShow","_isLoginRewardShow","_isContLoginRewardShow","_isRandomRewardShow","_isUpgradeRewardShow","timeIndex","workTypeID","workTimeID","tripLocID","tripTimeID","sleepTimeID","updateID","selectBagItemIndex","onLoad","init","start","loadBag","data","self","serverAddr","HttpHelper","httpPost","_data","itemIDArray","split","itemNameArray","categoryIDArray","categoryNameArray","numberArray","index","length","item","push","console","log","node","destroyAllChildren","hide","moveBy","v2","runAction","i","element","picName","loader","loadRes","SpriteFrame","err","sp","Prefab","prf","bagItem","instantiate","zIndex","getComponent","addChild","getChildByName","on","EventType","TOUCH_START","selectNode","copyNode","parent","opacity","pos","convertToWorldSpaceAR","position","convertToNodeSpaceAR","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","TOUCH_CANCEL","onTouchCancel","show","event","selectItemName","nodeP","touches","getTouches","oldPos","getStartLocation","newPos","getLocation","subPos","sub","x","y","minX","width","maxX","Math","abs","minY","height","maxY","nPos","getPosition","setPosition","petRect","Rect","useRect","intersects","eat","shower","play","destroy","string","backEnd","callFunc","back","sequence","moveTo","genLoginReward","date","Date","year","getFullYear","month","getMonth","dat","getDate","hour","getHours","minute","getMinutes","second","getSeconds","timeStr","instance","userID","genTime","rewardCategoryID","rewardLevel","res","loginRewardCoin","rewardCoin","loginRewardGrowth","rewardGrowth","genContLoginReward","contLoginDays","contLoginRewardCoin","contLoginRewardGrowth","login","flagContLoginReward","flagLoginReward","flagNewUser","director","loadScene","queryAttribute","autoUpdate","hunger","cleaness","thirst","mood","energy","growth","growthLevel","flagRandomReward","flagUpgradeReward","exit","clearInterval","onPlusBtnClicked","interactable","showFunction","actionSleepBtn","actionWorkBtn","actionTripBtn","actionSettingBtn","funcBtnEnd","actionPlusBtn","rotateBy","spawn","fadeOut","fadeIn","bindEnter","e","detail","userInfo","userGender","gender","userName","nickName","wx","showModal","title","content","success","confirm","openSetting","getSetting","authSetting","settingdata","flagLocation","cancel","lastLoginTime","species","color","hungerCeiling","cleanessCeiling","thirstCeiling","moodCeiling","energyCeiling","flagAgeGroup","flagSkipping","flagStory","flagSleep","sleepRemainTime","flagWork","workRemainTime","flagTrip","tripRemainTime","flagBgMusic","bgMusicVolume","bgMusicNum","bgPicNum","flagSound","soundVolume","flagNotice","flagVibration","itemIDArrayStr","itemNameArrayStr","categoryIDArrayStr","categoryNameArrayStr","numberArrayStr","categoryArray","flagEnableArrayStr","flagEnableArray","onClickGetReward","details","toString","rewardItemID","rewardItemCateID","upgradeRewardCoin","upgradeRewardItemID","upgradeRewardItemCateID","randomRewardItemID","randomRewardItemCateID","getTime","onClickEatBtn","onClickShowerBtn","onClickDrinkBtn","operationTime","onClickPlayBtn","onClickSubPlayBtn","playID","startCountDown","operationName","time","question","answer","picAddr","onClickCloseBagBtn","onClickWorkBtn","promptStr","alert","onClickWorkTypeBtn","onClickWorkTimeBtn","onClickConfirmWork","onClickTripBtn","onClickTripLocBtn","onClickTripTimeBtn","onClickConfirmTrip","onClickSleepBtn","onClickSleepTimeBtn","onClickConfirmSleep","onClickHomeBtn","onClickSettingBtn","onClickShopBtn","onClickUserInfoBtn"],"mappings":"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","file":"main.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\main\\js","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nlet GlobalData = require('globalData');\r\nfunction BagItem(id, name, categoryID, categoryName, number) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.categoryID = categoryID;\r\n    this.categoryName = categoryName;\r\n    this.number = number;\r\n};\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        profile: cc.Sprite,\r\n        shop: cc.Sprite,\r\n        tripBtn: cc.Sprite,\r\n        workBtn: cc.Sprite,\r\n        homeBtn: cc.Sprite,\r\n        sleepBtn: cc.Sprite,\r\n        settingBtn: cc.Sprite,\r\n        functionBtn: cc.Button,\r\n        bag: cc.Node, // 背包节点\r\n        bagContent: cc.Layout, // 背包物品添加的父节点\r\n        bagCloseBtn: cc.Sprite, // 背包关闭按钮\r\n        bagItemArray: [],\r\n\r\n        pet: cc.Node, // 宠物\r\n\r\n        //以下为页面中需要展示的值\r\n        coin: cc.Label, // 金币值\r\n\r\n        _isFunctionShow: true,\r\n        //author:qll\r\n        //time:2019.12.4\r\n        isBagShow: {\r\n            get() {\r\n                return this._isBagShow;\r\n            },\r\n            set(value) {\r\n                if (typeof (value) != 'number') { // 如果非法值，不调用背包控制函数\r\n                    value = 0;\r\n                    this._isBagShow = value;\r\n                }\r\n                if (this._isBagShow > 0) { // 背包被打开的情况下\r\n                    this.closeBag(); // 不管什么值都要先关闭背包\r\n                    if (this._isBagShow != value && value > 0) { // 如果点击不同背包，需要重新打开，例如打开食物背包的情况下，点击了洗澡背包\r\n                        this._isBagShow = value;\r\n                        this.openBag();\r\n                    } else { // 如果是相同背包，则背包显示置为0，表示现在处于关闭状态   \r\n                        this._isBagShow = 0;\r\n                    }\r\n                } else { // 背包关闭的情况下\r\n                    if (value > 0) { // 正常打开背包\r\n                        this._isBagShow = value;\r\n                        this.openBag();\r\n                    } else { // 关闭的情况不能再次关闭，置为关闭状态即可\r\n                        this._isBagShow = 0;\r\n                    }\r\n                }\r\n            }\r\n        },  // 标志位_是否展示背包,根据值判断打开哪个背包\r\n        _isSleepSettingShow: false, //标志位_是否展示睡觉设置框\r\n        _isWorkSettingShow: false,  //标志位_是否展示工作设置框\r\n        _isTripSettingShow: false,  //标志位_是否展示旅游设置框\r\n        _isPlaySettingShow: false,  //标志位_是否展示玩耍子操作框\r\n        _isClockShow: false,  //标志位_是否显示倒计时（用于睡觉、打工和旅游）\r\n\r\n        _isLoginRewardShow: false,  //标志位_是否显示登录奖励\r\n        _isContLoginRewardShow: false,  //标志位_是否显示连续登录奖励\r\n        _isRandomRewardShow: false,  //标志位_是否显示随机奖励\r\n        _isUpgradeRewardShow: false,  //标志位_是否显示升级奖励\r\n\r\n        timeIndex: [0, 30, 40, 50, 60],  //不同的时间ID对应的具体秒数（适用于旅游、打工和睡觉操作）P.S. ID0是无效的\r\n\r\n        workTypeID: 0,  //工种设置\r\n        workTimeID: 0,  //工时设置\r\n\r\n        tripLocID: 0,  //旅游地点设置\r\n        tripTimeID: 0,  //旅游时长设置\r\n\r\n        sleepTimeID: 0,  //睡觉时间设置\r\n\r\n        updateID: 0,  //用于退出该页面时清除interval\r\n        selectBagItemIndex: null,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        // console.log(GlobalData);\r\n        this.init();\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    loadBag: function () {\r\n        let data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\"\r\n        };\r\n        let self = this;\r\n        let serverAddr = 'https://www.llquruc.top/petGame/php/queryBag.php';\r\n        HttpHelper.httpPost(serverAddr, data, function (_data) {\r\n            if (_data != -1) {\r\n                // console.log(_data);\r\n                let itemIDArray = _data.itemIDArray.split('+');\r\n                let itemNameArray = _data.itemNameArray.split('+');\r\n                let categoryIDArray = _data.categoryIDArray.split('+');\r\n                let categoryNameArray = _data.categoryNameArray.split('+');\r\n                let numberArray = _data.numberArray.split('+');\r\n                for (let index = 0; index < itemIDArray.length; index++) {\r\n                    let item = new BagItem(itemIDArray[index], itemNameArray[index], categoryIDArray[index], categoryNameArray[index], numberArray[index]);\r\n                    self.bagItemArray.push(item);\r\n                }\r\n            }\r\n        });\r\n    },\r\n    // 关闭背包,根据isBagShow的值自己调用，不要单独调用\r\n    closeBag: function () {\r\n        console.log(\"close bag\");\r\n        this.bagContent.node.destroyAllChildren();\r\n        // 提示框关闭动作部分：\r\n        let hide = cc.moveBy(0.2, cc.v2(-220, 0));\r\n        this.bag.runAction(hide);\r\n    },\r\n    /**\r\n     * 打开背包,根据isBagShow的值自己调用，不要单独调用，逻辑查看isBagShow的注释\r\n     */\r\n    openBag: function () {\r\n        let self = this;\r\n        console.log(\"open bag\");\r\n        for (let i = 0; i < self.bagItemArray.length; i++) {\r\n            let element = self.bagItemArray[i];\r\n            console.log(\"-----------debug log----------\");\r\n            console.log(\"now load bag item: \" + (i + 1));\r\n            if (element.categoryID == this.isBagShow) {\r\n                console.log(\"item: \" + i + ' will be loaded.');\r\n                let picName = 'shopPic/cate' + element.categoryID + '/' + element.id;\r\n                cc.loader.loadRes(picName, cc.SpriteFrame, (err, sp) => {\r\n                    if (err) {\r\n                        console.log('failed to load sprite ' + picName);\r\n                    }\r\n                    cc.loader.loadRes(\"prefab/bagItem\", cc.Prefab, (err, prf) => {\r\n                        console.log(element);\r\n                        if (err) {\r\n                            console.log('error: get prefab' + err + \"prefab/bagItem\");\r\n                        }\r\n                        if (!(prf instanceof cc.Prefab)) {\r\n                            console.log(\"not a prefab\");\r\n                        }\r\n                        let bagItem = cc.instantiate(prf);\r\n                        bagItem.zIndex = i;\r\n                        bagItem.name = element.categoryID + '_' + element.id;\r\n                        bagItem.getComponent('bagItem').init(element.number, sp);\r\n                        self.bagContent.node.addChild(bagItem);\r\n                        bagItem.getChildByName('itemPic').on(cc.Node.EventType.TOUCH_START, function () {\r\n                            // 选中物品\r\n                            let selectNode = bagItem.getChildByName('itemPic');\r\n                            // 阴影复制物品\r\n                            let copyNode = cc.instantiate(selectNode);\r\n                            // 阴影物品代替选中物品的位置\r\n                            selectNode.parent.addChild(copyNode);\r\n                            copyNode.opacity = 100;\r\n                            let pos = selectNode.parent.convertToWorldSpaceAR(copyNode.position);\r\n                            pos = self.bag.parent.convertToNodeSpaceAR(pos);\r\n                            // 被选中的物品进入与宠物同一个层级  \r\n                            self.bag.parent.addChild(selectNode);\r\n                            selectNode.position = pos;\r\n                            self.selectBagItemIndex = i; // 记录背包里选中的物品\r\n                            // console.log(selectNode, copyNode)\r\n                            selectNode.on(cc.Node.EventType.TOUCH_MOVE, self.onTouchMove, self);\r\n                            selectNode.on(cc.Node.EventType.TOUCH_END, self.onTouchEnd, self);\r\n                            selectNode.on(cc.Node.EventType.TOUCH_CANCEL, self.onTouchCancel, self);\r\n                        });\r\n                    })\r\n                })\r\n            }\r\n        }\r\n        // 提示框打开动作部分：\r\n        let show = cc.moveBy(0.2, cc.v2(220, 0));\r\n        self.bag.runAction(show);\r\n\r\n    },\r\n\r\n    //触摸移动；\r\n    onTouchMove: function (event) {\r\n        let self = this;\r\n        let selectItemName = self.bagItemArray[self.selectBagItemIndex].categoryID + '_' + self.bagItemArray[self.selectBagItemIndex].id;\r\n        let copyNode = self.bagContent.node.getChildByName(selectItemName).getChildByName('itemPic');\r\n        let selectNode = self.bag.parent.getChildByName('itemPic');\r\n        // 转换为世界坐标\r\n        let pos = copyNode.parent.convertToWorldSpaceAR(copyNode.position);\r\n        pos = self.bag.parent.convertToNodeSpaceAR(pos);\r\n        let nodeP = pos;\r\n        let touches = event.getTouches();\r\n        //触摸刚开始的位置\r\n        let oldPos = selectNode.parent.convertToNodeSpaceAR(touches[0].getStartLocation());\r\n\r\n        //触摸时不断变更的位置\r\n        let newPos = selectNode.parent.convertToNodeSpaceAR(touches[0].getLocation());\r\n        let subPos = oldPos.sub(newPos); // 2.X版本是 p1.sub(p2);\r\n\r\n        selectNode.x = nodeP.x - subPos.x;\r\n        selectNode.y = nodeP.y - subPos.y;\r\n\r\n        // 控制节点移不出屏幕; \r\n        let minX = -selectNode.parent.width / 2 + selectNode.width / 2; //最小X坐标；\r\n        let maxX = Math.abs(minX);\r\n        let minY = -selectNode.parent.height / 2 + selectNode.height / 2; //最小Y坐标；\r\n        let maxY = Math.abs(minY);\r\n        let nPos = selectNode.getPosition(); //节点实时坐标；\r\n\r\n        if (nPos.x < minX) {\r\n            nPos.x = minX;\r\n        };\r\n        if (nPos.x > maxX) {\r\n            nPos.x = maxX;\r\n        };\r\n        if (nPos.y < minY) {\r\n            nPos.y = minY;\r\n        };\r\n        if (nPos.y > maxY) {\r\n            nPos.y = maxY;\r\n        };\r\n        selectNode.setPosition(nPos);\r\n    },\r\n    // 背包物品触摸结束\r\n    onTouchEnd() {\r\n        let self = this;\r\n        // 宠物矩形框\r\n        let petRect = new cc.Rect(self.pet.x, self.pet.y, self.pet.width, self.pet.height);\r\n        // 找到所选物品所在的物品块的名字\r\n        let selectItemName = self.bagItemArray[self.selectBagItemIndex].categoryID + '_' + self.bagItemArray[self.selectBagItemIndex].id\r\n        // 留下的阴影复制物品\r\n        let copyNode = self.bagContent.node.getChildByName(selectItemName).getChildByName('itemPic');\r\n        // 选中的物品\r\n        let selectNode = self.bag.parent.getChildByName('itemPic');\r\n        // 物品矩形框\r\n        let pos = copyNode.parent.convertToWorldSpaceAR(copyNode.position);\r\n        pos = self.bag.parent.convertToNodeSpaceAR(pos);\r\n        let useRect = new cc.Rect(selectNode.x, selectNode.y, selectNode.width, selectNode.height);\r\n        console.log(\"touch end\");\r\n        if (petRect.intersects(useRect)) { // 判断两个矩形框是否重叠\r\n            // 矩形重叠说明进行喂食等操作\r\n            // console.log(self.testNode.parent.parent.getChildByName('pet'));\r\n            if (self.bagItemArray[self.selectBagItemIndex].categoryID == 1) {\r\n                selectNode.parent.parent.getChildByName('pet').getComponent('pet').eat(self.bagItemArray[self.selectBagItemIndex].id);\r\n            } else if (self.bagItemArray[self.selectBagItemIndex].categoryID == 2) {\r\n                selectNode.parent.parent.getChildByName('pet').getComponent('pet').shower(self.bagItemArray[self.selectBagItemIndex].id);\r\n            } else if (self.bagItemArray[self.selectBagItemIndex].categoryID == 10) {\r\n                selectNode.parent.parent.getChildByName('pet').getComponent('pet').play(self.bagItemArray[self.selectBagItemIndex].id);\r\n            }\r\n            selectNode.setPosition(copyNode.position);\r\n            copyNode.destroy();\r\n            self.bagContent.node.getChildByName(selectItemName).addChild(selectNode);\r\n            if (self.bagItemArray[self.selectBagItemIndex].number == 1) { // 该物品将用完，动态在背包中删除\r\n                self.bagContent.node.getChildByName(selectItemName).destroy();\r\n            } else {\r\n                self.bagItemArray[self.selectBagItemIndex].number -= 1;\r\n                console.log(self.bagContent.node.getChildByName(selectItemName).getChildByName('numberBlock').getChildByName('number'));\r\n                self.bagContent.node.getChildByName(selectItemName).getChildByName('numberBlock').getChildByName('number').getComponent(cc.Label).string = self.bagItemArray[self.selectBagItemIndex].number;\r\n            }\r\n\r\n        } else {\r\n            let backEnd = cc.callFunc(function () {\r\n                selectNode.setPosition(copyNode.position);\r\n                copyNode.destroy();\r\n                self.bagContent.node.getChildByName(selectItemName).addChild(selectNode);\r\n            }, self, null);\r\n            console.log(pos, selectNode.position);\r\n            let back = cc.sequence(cc.moveTo(0.5, pos.x, pos.y), backEnd);\r\n            selectNode.runAction(back);\r\n            console.log(\"second\");\r\n            console.log(selectNode);\r\n        }\r\n    },\r\n    // 背包物品触摸取消，同触摸结束的操作\r\n    onTouchCancel: function () {\r\n        let self = this;\r\n        // 宠物矩形框\r\n        let petRect = new cc.Rect(self.pet.x, self.pet.y, self.pet.width, self.pet.height);\r\n        // 找到所选物品所在的物品块的名字\r\n        let selectItemName = self.bagItemArray[self.selectBagItemIndex].categoryID + '_' + self.bagItemArray[self.selectBagItemIndex].id\r\n        // 留下的阴影复制物品\r\n        let copyNode = self.bagContent.node.getChildByName(selectItemName).getChildByName('itemPic');\r\n        // 选中的物品\r\n        let selectNode = self.bag.parent.getChildByName('itemPic');\r\n        // 物品矩形框\r\n        let pos = copyNode.parent.convertToWorldSpaceAR(copyNode.position);\r\n        pos = self.bag.parent.convertToNodeSpaceAR(pos);\r\n        let useRect = new cc.Rect(selectNode.x, selectNode.y, selectNode.width, selectNode.height);\r\n        console.log(\"touch cancel\");\r\n        if (petRect.intersects(useRect)) { // 判断两个矩形框是否重叠\r\n            // 矩形重叠说明进行喂食等操作\r\n            // console.log(self.testNode.parent.parent.getChildByName('pet'));\r\n            if (self.bagItemArray[self.selectBagItemIndex].categoryID == 1) {\r\n                selectNode.parent.parent.getChildByName('pet').getComponent('pet').eat(self.bagItemArray[self.selectBagItemIndex].id);\r\n            } else if (self.bagItemArray[self.selectBagItemIndex].categoryID == 2) {\r\n                selectNode.parent.parent.getChildByName('pet').getComponent('pet').shower(self.bagItemArray[self.selectBagItemIndex].id);\r\n            } else if (self.bagItemArray[self.selectBagItemIndex].categoryID == 10) {\r\n                selectNode.parent.parent.getChildByName('pet').getComponent('pet').play(self.bagItemArray[self.selectBagItemIndex].id);\r\n            }\r\n            // 实时刷新背包动态 - 待写/////////////////\r\n            /////////////////////////////////\r\n            selectNode.setPosition(copyNode.position);\r\n            copyNode.destroy();\r\n            self.bagContent.node.getChildByName(selectItemName).addChild(selectNode);\r\n        } else {\r\n            let backEnd = cc.callFunc(function () {\r\n                console.log(copyNode.position);\r\n                selectNode.setPosition(copyNode.position);\r\n                copyNode.destroy();\r\n                self.bagContent.node.getChildByName(selectItemName).addChild(selectNode);\r\n            }, self, null);\r\n            console.log(pos, selectNode.position);\r\n            let back = cc.sequence(cc.moveTo(0.1, pos.x, pos.y), backEnd);\r\n            selectNode.runAction(back);\r\n            console.log(\"second\");\r\n            console.log(selectNode);\r\n        }\r\n    },\r\n\r\n    //生成登录奖励\r\n    genLoginReward: function () {\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        let serverAddr = GlobalData.serverAddr + \"php/genReward.php\";\r\n        let instance = this;\r\n        // 调用自定义网路接口获取登录奖励\r\n        let data = {\r\n            userID: GlobalData.userID,\r\n            genTime: timeStr,\r\n            rewardCategoryID: 1,\r\n            rewardLevel: 1,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                GlobalData.loginRewardCoin = res.rewardCoin;//奖励金币数\r\n                GlobalData.loginRewardGrowth = res.rewardGrowth;//奖励成长值\r\n                instance._isLoginRewardShow = true;\r\n            }\r\n        });\r\n    },\r\n\r\n    //生成连续登录奖励\r\n    genContLoginReward: function () {\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        let serverAddr = GlobalData.serverAddr + \"php/genReward.php\";\r\n        let instance = this;\r\n        // 调用自定义网路接口获取连续登录奖励\r\n        let data = {\r\n            userID: GlobalData.userID,\r\n            genTime: timeStr,\r\n            rewardCategoryID: 2,\r\n            rewardLevel: GlobalData.contLoginDays,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                GlobalData.contLoginRewardCoin = res.rewardCoin;//奖励金币数\r\n                GlobalData.contLoginRewardGrowth = res.rewardGrowth;//奖励成长值\r\n                instance._isContLoginRewardShow = true;\r\n            }\r\n        });\r\n    },\r\n\r\n    /**\r\n     *  登录函数\r\n     *  需要微信接口，测试时可以先注释掉\r\n     *  author: qll\r\n     *  time: 2019/12/2\r\n     */\r\n    login: function () {\r\n        let flagContLoginReward = 0;\r\n        let flagLoginReward = 0;\r\n        // wx.login({\r\n        //     success: res => {\r\n        //         // 发送 res.code 到后台并收取生成的userID，\r\n        //         let js_code = res.code;\r\n        //         console.log(js_code);\r\n        //         let date = new Date();\r\n        //         let year = date.getFullYear(); //获取当前年份   \r\n        //         let month = date.getMonth() + 1; //获取当前月份   \r\n        //         let dat = date.getDate(); //获取当前日    \r\n        //         let hour = date.getHours(); //获取小时   \r\n        //         let minute = date.getMinutes(); //获取分钟   \r\n        //         let second = date.getSeconds(); //获取秒   \r\n        //         let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        //         let flagLocation = GlobalData.flagLocation;\r\n        //         let serverAddr = GlobalData.serverAddr + \"php/login.php\";\r\n        //         // 调用自定义网路接口进行登录操作\r\n        //         let data = {\r\n        //             js_code: js_code,\r\n        //             loginTime: timeStr,\r\n        //             flagLocation: flagLocation,\r\n        //         };\r\n        //         HttpHelper.httpPost(serverAddr, data, function(res) {\r\n        // \t        if (res == -1) {\r\n        // \t\t        console.log(\"访问失败\");\r\n        // \t        } else {\r\n        // \t\t        console.log(res);\r\n        //                 GlobalData.userID = res.userID;\r\n        //                 GlobalData.flagNewUser = Number(res.flagNewUser);\r\n        //                 GlobalData.contLoginDays = Number(res.contLoginDays);\r\n        //                 flagContLoginReward = Number(res.flagContLoginReward);\r\n        //                 flagLoginReward = Number(res.flagLoginReward);\r\n        // \t        }\r\n        //         });\r\n        //     }\r\n        // })\r\n\r\n        console.log('登录完成');\r\n\r\n        if (GlobalData.flagNewUser == 1)//新用户，跳到领养界面\r\n        {\r\n            cc.director.loadScene(\"adopt\");\r\n        }\r\n        else   //老用户，查询属性信息，恢复场景，生成奖励\r\n        {\r\n            this.queryAttribute();\r\n            if (flagLoginReward == 1) {\r\n                this.genLoginReward();\r\n            }\r\n            if (flagContLoginReward == 1) {\r\n                this.genContLoginReward();\r\n            }\r\n        }\r\n    },\r\n\r\n    autoUpdate: function () {\r\n        this.hunger.string = GlobalData.hunger;  // 饥饿值\r\n        this.cleaness.string = GlobalData.cleaness; // 清洁值\r\n        this.thirst.string = GlobalData.thirst; // 口渴值\r\n        this.mood.string = GlobalData.mood; // 心情值\r\n        this.energy.string = GlobalData.energy; // 能量值\r\n        this.growth.string = GlobalData.growth; // 成长值\r\n        this.growthLevel.string = GlobalData.growthLevel; // 成长值等级\r\n        this.coin.string = GlobalData.coin; // 金币值\r\n        //检查是否有奖励生成（仅限随机和升级）\r\n        if (GlobalData.flagRandomReward == true) {\r\n            this._isRandomRewardShow = true;  //在主界面某处出现随机奖励\r\n        }\r\n        if (GlobalData.flagUpgradeReward == true) {\r\n            this._isUpgradeRewardShow = true;  //弹出升级奖励框\r\n        }\r\n    },\r\n\r\n    init: function () {   //进入该页面时调用此函数\r\n        // let interval = 1000;  //1秒\r\n        // this.updateID = setInterval(this.autoUpdate, interval);\r\n        this._isFunctionShow = true;\r\n        this.loadBag();\r\n        // this.queryAttribute();\r\n    },\r\n\r\n    exit: function () {  //退出该页面时调用此函数\r\n        clearInterval(this.updateID);\r\n    },\r\n\r\n    onPlusBtnClicked: function () {\r\n        // 动作期间禁用功能按钮\r\n        this.functionBtn.interactable = false;\r\n        this.showFunction();\r\n    },\r\n\r\n    showFunction: function () {\r\n        this._isFunctionShow = !this._isFunctionShow;\r\n        let actionSleepBtn = null;\r\n        let actionWorkBtn = null;\r\n        let actionTripBtn = null;\r\n        let actionSettingBtn = null;\r\n        // 动作结束时触发回调函数，让功能按钮恢复使用\r\n        let funcBtnEnd = cc.callFunc(function () {\r\n            this.functionBtn.interactable = true;\r\n        }, this, null);\r\n        let actionPlusBtn = cc.sequence(cc.rotateBy(0.7, 360), funcBtnEnd);\r\n        if (!this._isFunctionShow) {\r\n            actionSleepBtn = cc.spawn(cc.moveBy(0.5, cc.v2(0, 60)), cc.fadeOut(0.7));\r\n            actionWorkBtn = cc.spawn(cc.moveBy(0.6, cc.v2(0, 120)), cc.fadeOut(0.7));\r\n            actionTripBtn = cc.spawn(cc.moveBy(0.7, cc.v2(0, 180)), cc.fadeOut(0.7));\r\n            actionSettingBtn = cc.spawn(cc.moveBy(0.8, cc.v2(0, 240)), cc.fadeOut(0.7));\r\n        } else {\r\n            actionSleepBtn = cc.spawn(cc.moveBy(0.5, cc.v2(0, -60)), cc.fadeIn(0.5));\r\n            actionWorkBtn = cc.spawn(cc.moveBy(0.5, cc.v2(0, -120)), cc.fadeIn(0.5));\r\n            actionTripBtn = cc.spawn(cc.moveBy(0.5, cc.v2(0, -180)), cc.fadeIn(0.5));            \r\n            actionSettingBtn = cc.spawn(cc.moveBy(0.5, cc.v2(0, -240)), cc.fadeIn(0.5));\r\n        }\r\n        this.tripBtn.node.runAction(actionTripBtn);\r\n        this.workBtn.node.runAction(actionWorkBtn);\r\n        this.sleepBtn.node.runAction(actionSleepBtn);\r\n        this.settingBtn.node.runAction(actionSettingBtn);\r\n        this.functionBtn.node.runAction(actionPlusBtn);\r\n    },\r\n\r\n    /**\r\n     * 进入游戏”按键所对应的事件处理函数，在用户的授权下获得并更新一些用户信息\r\n     * 需要微信接口，测试时可以先注释掉\r\n     * author: qll\r\n     * time: 2019/12/4\r\n     */\r\n    bindEnter: function (e) {\r\n        let instance = this;\r\n        if (e.detail.userInfo) {   //获得用户的微信账户信息\r\n            console.log(e.detail.userInfo);\r\n            GlobalData.userGender = e.detail.userInfo.gender;\r\n            GlobalData.userName = e.detail.userInfo.nickName;\r\n        }\r\n        else {\r\n            wx.showModal({\r\n                title: '用户未授权',\r\n                content: '拒绝授权将不能体验小游戏完整功能，点击确定开启授权',\r\n                success: (res) => {\r\n                    console.log(res);\r\n                    if (res.confirm) {\r\n                        wx.openSetting({});\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        //询问用户是否授权位置信息（一个实际上不必要的授权，用来测试用户的安全意识）\r\n        wx.getSetting({\r\n            success(res) {\r\n                if (res.authSetting['scope.userLocation'] != true) {\r\n                    wx.showModal({\r\n                        title: '定位授权',\r\n                        content: '萌宠物语请求获得您的位置信息，请确认授权',\r\n                        success: (res) => {\r\n                            console.log(res);\r\n                            if (res.confirm) {\r\n                                wx.openSetting({\r\n                                    success(settingdata) {\r\n                                        console.log(settingdata);\r\n                                        if (settingdata.authSetting['scope.userLocation']) {\r\n                                            GlobalData.flagLocation = 1;\r\n                                            console.log(\"位置授权成功\");\r\n                                            instance.login();\r\n                                        }\r\n                                        else {\r\n                                            GlobalData.flagLocation = 0;\r\n                                            console.log(\"取消位置授权\");\r\n                                            instance.login();\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                            if (res.cancel) {\r\n                                GlobalData.flagLocation = 0;\r\n                                console.log(\"位置授权失败\");\r\n                                instance.login();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    queryAttribute: function () {\r\n        let serverAddr = GlobalData.serverAddr + \"php/queryUserAttribute.php\";\r\n        // 调用自定义网路接口进行查询\r\n        let data = {\r\n            userID: GlobalData.userID\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                GlobalData.coin = res.coin;//金币值\r\n                GlobalData.title = res.title;//主人称呼\r\n            }\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryPetAttribute.php\";\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                GlobalData.lastLoginTime = res.lastLoginTime;//上一次登录时间\r\n                GlobalData.contLoginDays = res.contLoginDays; //连续登录天数\r\n                GlobalData.species = res.species;// 宠物种类\r\n                GlobalData.name = res.name;// 宠物名字\r\n                GlobalData.gender = res.gender;//  宠物性别\r\n                GlobalData.color = res.color;// 宠物毛色\r\n                GlobalData.hunger = res.hunger;// 宠物饥饿值\r\n                GlobalData.hungerCeiling = res.hungerCeiling;// 宠物饥饿值上限\r\n                GlobalData.cleaness = res.cleaness;// 宠物清洁值\r\n                GlobalData.cleanessCeiling = res.cleanessCeiling;// 宠物清洁值上限\r\n                GlobalData.thirst = res.thirst;// 宠物口渴值\r\n                GlobalData.thirstCeiling = res.thirstCeiling;// 宠物口渴值上限\r\n                GlobalData.mood = res.mood;// 宠物心情值\r\n                GlobalData.moodCeiling = res.moodCeiling;// 宠物心情值上限\r\n                GlobalData.energy = res.energy;// 宠物能量值\r\n                GlobalData.energyCeiling = res.energyCeiling;// 宠物能量值上限\r\n                GlobalData.growth = res.growth;// 宠物成长值\r\n                GlobalData.growthLevel = res.growthLevel;// 宠物成长等级\r\n                GlobalData.flagAgeGroup = res.flagAgeGroup;// 标志位：幼年or成年\r\n                GlobalData.flagSkipping = res.flagSkipping;// 标志位_是否解锁“跳绳”操作\r\n                GlobalData.flagStory = res.flagStory;// 标志位_是否解锁“讲故事”操作\r\n                GlobalData.flagSleep = res.flagSleep;// 标志位-是否正在睡觉\r\n                GlobalData.sleepRemainTime = res.sleepRemainTime;// 睡觉剩余时长\r\n                GlobalData.flagWork = res.flagWork;// 标志位-是否正在打工\r\n                GlobalData.workRemainTime = res.workRemainTime;// 打工剩余时长\r\n                GlobalData.flagTrip = res.flagTrip;// 标志位-是否正在旅游\r\n                GlobalData.tripRemainTime = res.tripRemainTime;// 旅游剩余时长\r\n            }\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/querySetting.php\";\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                GlobalData.flagBgMusic = res.flagBgMusic;//标志位_是否开启背景音乐\r\n                GlobalData.bgMusicVolume = res.bgMusicVolume;//背景音乐音量\r\n                GlobalData.bgMusicNum = res.bgMusicNum;//背景音乐曲目编号\r\n                GlobalData.bgPicNum = res.bgPicNum;//背景图片编号\r\n                GlobalData.flagSound = res.flagSound;//标志位_是否开启音效\r\n                GlobalData.soundVolume = res.soundVolume;//音效音量\r\n                GlobalData.flagNotice = res.flagNotice;//标志位_是否开启推送通知\r\n                GlobalData.flagLocation = res.flagLocation;//标志位_是否开启摄像头权限\r\n                GlobalData.flagVibration = res.flagVibration;//标志位_是否开启震动\r\n            }\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryBag.php\";\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                GlobalData.bag.itemIDArrayStr = res.itemIDArray;//物品ID数组\r\n                GlobalData.bag.itemNameArrayStr = res.itemNameArray;//物品名称数组（英文）\r\n                GlobalData.bag.categoryIDArrayStr = res.categoryIDArray;//物品类别ID数组\r\n                GlobalData.bag.categoryNameArrayStr = res.categoryNameArray;//物品类别名称数组\r\n                GlobalData.bag.numberArrayStr = res.numberArray;//物品数量数组\r\n            }\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryDecBag.php\";\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                GlobalData.bag.itemIDArrayStr = res.itemIDArray;//物品ID数组\r\n                GlobalData.bag.itemNameArrayStr = res.itemNameArray;//物品名称数组（英文）\r\n                GlobalData.bag.categoryIDArrayStr = res.categoryArray;//物品类别ID数组\r\n                GlobalData.bag.categoryNameArrayStr = res.categoryNameArray;//物品类别名称数组\r\n                GlobalData.bag.flagEnableArrayStr = res.flagEnableArray;//物品是否启用的标志位数组\r\n            }\r\n        });\r\n    },\r\n\r\n    //点击获取奖励\r\n    //参数说明：1：登录奖励；2：连续登录奖励；3：升级奖励；4：随机奖励\r\n    onClickGetReward: function (rewardCategoryID) {\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        let serverAddr = GlobalData.serverAddr + \"php/getReward.php\";\r\n        let details = 'Category:' + rewardCategoryID.toString();\r\n        let rewardCoin = 0;\r\n        let rewardGrowth = 0;\r\n        let rewardItemID = 0;\r\n        let rewardItemCateID = 0;\r\n        if (rewardCategoryID == 1) {  //登录奖励\r\n            rewardCoin = GlobalData.loginRewardCoin;\r\n            rewardGrowth = GlobalData.loginRewardGrowth;\r\n        }\r\n        else if (rewardCategoryID == 2) {  //连续登录奖励\r\n            rewardCoin = GlobalData.contLoginRewardCoin;\r\n            rewardGrowth = GlobalData.contLoginRewardGrowth;\r\n        }\r\n        else if (rewardCategoryID == 3) {  //升级奖励\r\n            rewardCoin = GlobalData.upgradeRewardCoin;\r\n            rewardItemID = GlobalData.upgradeRewardItemID;\r\n            rewardItemCateID = GlobalData.upgradeRewardItemCateID;\r\n        }\r\n        else {  //随机奖励\r\n            rewardItemID = GlobalData.randomRewardItemID;\r\n            rewardItemCateID = GlobalData.randomRewardItemCateID;\r\n        }\r\n        // 调用自定义网路接口领取奖励\r\n        let data = {\r\n            userID: GlobalData.userID,\r\n            getTime: timeStr,\r\n            rewardCoin: rewardCoin,\r\n            rewardGrowth: rewardGrowth,\r\n            rewardItemID: rewardItemID,\r\n            rewardItemCateID: rewardItemCateID,\r\n            details: details,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n            }\r\n        });\r\n    },\r\n\r\n    onClickEatBtn: function () {  //点击吃饭按钮\r\n        console.log(\"点击吃饭\");\r\n        this.isBagShow = 1;\r\n    },\r\n\r\n    onClickShowerBtn: function () {  //点击洗澡按钮\r\n        console.log(\"点击洗澡\");\r\n        this.isBagShow = 2;\r\n    },\r\n\r\n    onClickDrinkBtn: function () {  //点击喝水按钮\r\n        console.log(\"点击喝水\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        let serverAddr = GlobalData.serverAddr + \"php/drink.php\";\r\n        let details = '';\r\n        // 调用自定义网路接口\r\n        let data = {\r\n            userID: GlobalData.userID,\r\n            operationTime: timeStr,\r\n            details: details,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            }\r\n        });\r\n    },\r\n\r\n    onClickPlayBtn: function () {  //点击玩耍按钮\r\n        console.log(\"点击玩耍\");\r\n        this._isPlaySettingShow = true;  //显示玩耍子类别按钮\r\n    },\r\n\r\n    onClickSubPlayBtn: function (playID) {  //点击玩耍子类别按钮\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        let serverAddr = GlobalData.serverAddr + \"php/play.php\";\r\n        let details = '';\r\n        // 调用自定义网路接口\r\n        let data = {\r\n            userID: GlobalData.userID,\r\n            operationTime: timeStr,\r\n            playID: playID,\r\n            details: details,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            }\r\n        });\r\n    },\r\n\r\n    startCountDown: function (operationName, time, question, answer, picAddr) {  //该函数待实现\r\n        //参数的意义：operationName表示到底是为了什么操作而进行倒计时（work或trip或sleep）\r\n        //time表示时间\r\n        //question和answer分别表示结束后问答环节的问题和答案\r\n        //picAddr表示提供的图片\r\n    },\r\n\r\n    onClickCloseBagBtn: function () {  //点击主界面上的打工按钮\r\n        console.log(\"关闭背包\");\r\n        this.isBagShow = 0;\r\n    },\r\n\r\n    onClickWorkBtn: function () {  //点击主界面上的打工按钮\r\n        console.log(\"点击打工\");\r\n        if (GlobalData.energy >= 50 && GlobalData.mood >= 30) {\r\n            this._isWorkSettingShow = true;  //显示打工设置框\r\n        }\r\n        else {\r\n            let promptStr = '宠物能量值不低于50且心情值不低于30才可以去打工哟~~';\r\n            alert(promptStr);\r\n        }\r\n    },\r\n\r\n    onClickWorkTypeBtn: function (workTypeID) {  //点击工种设置按钮\r\n        console.log('设置工种为：', workTypeID);\r\n        this.workTypeID = workTypeID;\r\n    },\r\n\r\n    onClickWorkTimeBtn: function (workTimeID) {  //点击工时设置按钮\r\n        console.log('设置工时为：', workTimeID);\r\n        this.workTimeID = workTimeID;\r\n    },\r\n\r\n    onClickConfirmWork: function () {//完成所有设置后，点击“去打工”\r\n        console.log(\"确认打工\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        let serverAddr = GlobalData.serverAddr + \"php/work.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        // 调用自定义网路接口\r\n        let data = {\r\n            userID: GlobalData.userID,\r\n            operationTime: timeStr,\r\n            workTimeID: instance.workTimeID,\r\n            workTypeID: instance.workTypeID,\r\n            details: details,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('work', instance.timeIndex[instance.workTimeID], res.question, res.answer, res.picAddr);\r\n            }\r\n        });\r\n    },\r\n\r\n    onClickTripBtn: function () {  //点击主界面上的旅游按钮\r\n        console.log(\"点击旅游\");\r\n        if (GlobalData.energy >= 50) {\r\n            this._isTripSettingShow = true;  //显示旅游设置框\r\n        }\r\n        else {\r\n            let promptStr = '宠物能量值不低于50才可以去旅游哟~~';\r\n            alert(promptStr);\r\n        }\r\n    },\r\n\r\n    onClickTripLocBtn: function (tripLocID) {  //点击旅游地点设置按钮\r\n        console.log('设置旅游地点为：', tripLocID);\r\n        this.tripLocID = tripLocID;\r\n    },\r\n\r\n    onClickTripTimeBtn: function (tripTimeID) {  //点击旅游时间设置按钮\r\n        console.log('设置旅游时间为：', tripTimeID);\r\n        this.tripTimeID = tripTimeID;\r\n    },\r\n\r\n    onClickConfirmTrip: function () {//完成所有设置后，点击“去旅游”\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        let serverAddr = GlobalData.serverAddr + \"php/trip.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        // 调用自定义网路接口\r\n        let data = {\r\n            userID: GlobalData.userID,\r\n            operationTime: timeStr,\r\n            tripTimeID: instance.tripTimeID,\r\n            tripLocID: instance.tripLocID,\r\n            details: details,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('trip', instance.timeIndex[instance.tripTimeID], res.question, res.answer, res.picAddr);\r\n            }\r\n        });\r\n    },\r\n\r\n    onClickSleepBtn: function () {  //点击主界面上的睡觉按钮\r\n        console.log(\"点击睡觉\");\r\n        this._isSleepSettingShow = true;  //显示睡觉设置框\r\n    },\r\n\r\n    onClickSleepTimeBtn: function (sleepTimeID) {  //点击睡觉时间设置按钮\r\n        console.log('设置睡觉时间为：', sleepTimeID);\r\n        this.sleepTimeID = sleepTimeID;\r\n    },\r\n\r\n    onClickConfirmSleep: function () {//完成所有设置后，点击“去睡觉”\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        let serverAddr = GlobalData.serverAddr + \"php/sleep.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        // 调用自定义网路接口\r\n        let data = {\r\n            userID: GlobalData.userID,\r\n            operationTime: timeStr,\r\n            sleepTimeID: instance.sleepTimeID,\r\n            details: details,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function (res) {\r\n            if (res == -1) {\r\n                console.log(\"访问失败\");\r\n            } else {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('sleep', instance.timeIndex[instance.sleepTimeID], null, null, null);\r\n            }\r\n        });\r\n    },\r\n\r\n    onClickHomeBtn: function () {  //跳转到小屋界面\r\n        this.exit();\r\n        cc.director.loadScene('home');\r\n    },\r\n\r\n    onClickSettingBtn: function () {  //跳转到设置界面\r\n        this.exit();\r\n        cc.director.loadScene('setting');\r\n    },\r\n\r\n    onClickShopBtn: function () {  //跳转到商店界面  P.S.这个按钮应该在两个地方都有出现：主界面and背包框\r\n        this.exit();\r\n        cc.director.loadScene('shop');\r\n    },\r\n\r\n    onClickUserInfoBtn: function () {  //跳转到个人信息界面\r\n        this.exit();\r\n        cc.director.loadScene('personalInfo');\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}