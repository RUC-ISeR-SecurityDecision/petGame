{"version":3,"sources":["autoRun.js"],"names":["cc","Class","extends","Component","properties","querySetIntervalID","genRandomRewardSetIntervalID","updateGrowthSetIntervalID","updateGrowth","serverAddr","GlobalData","data","HttpHelper","httpPost","res","genUpgradeReward","newGrowthLevel","date","Date","year","getFullYear","month","getMonth","dat","getDate","hour","getHours","minute","getMinutes","second","getSeconds","timeStr","rewardLevel","console","log","upgradeRewardCoin","rewardCoin","upgradeRewardItemID","rewardItemID","upgradeRewardItemCateID","rewardItemCateID","flagUpgradeReward","queryAttribute","self","coin","title","lastLoginTime","contLoginDays","species","name","gender","color","hunger","hungerCeiling","cleaness","cleanessCeiling","thirst","thirstCeiling","mood","moodCeiling","energy","energyCeiling","growth","growthLevel","flagAgeGroup","flagSkipping","flagStory","flagSleep","sleepRemainTime","flagWork","workRemainTime","flagTrip","tripRemainTime","flagBgMusic","bgMusicVolume","bgMusicNum","bgPicNum","flagSound","soundVolume","flagNotice","flagLocation","flagVibration","decorationBag","itemIDArrayStr","itemIDArray","itemNameArrayStr","itemNameArray","categoryIDArrayStr","categoryArray","categoryNameArrayStr","categoryNameArray","flagEnableArrayStr","flagEnableArray","bag","categoryIDArray","numberArrayStr","numberArray","genRandomReward","luckyNum","number","Math","floor","random","ceil","randomRewardItemID","randomRewardItemCateID","flagRandomReward","start","queryInterval","genRandomRewardInterval","updateGrowthInterval","setInterval","exit","clearInterval"],"mappings":"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","file":"autoRun.js","sourceRoot":"..\\..\\..\\..\\assets\\runtime","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        querySetIntervalID: 0,\r\n        genRandomRewardSetIntervalID: 0,\r\n        updateGrowthSetIntervalID: 0,\r\n    },\r\n\r\n    updateGrowth: function(){\r\n        var serverAddr = GlobalData.serverAddr + \"php/updateGrowth.php\";\r\n        // 调用自定义网路接口生成升级奖励\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\",\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function(res) {\r\n            //nothing happens\r\n        }); \r\n    },\r\n\r\n    genUpgradeReward: function(newGrowthLevel){\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/genReward.php\";\r\n        var rewardLevel = newGrowthLevel;\r\n        // 调用自定义网路接口生成升级奖励\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\",\r\n            \"genTime\": timeStr,\r\n            \"rewardCategoryID\": 3,\r\n            \"rewardLevel\": rewardLevel,\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function(res) {\r\n            if (res != -1) {\r\n                console.log(res);\r\n                GlobalData.upgradeRewardCoin = res.rewardCoin;//奖励金币数\r\n                GlobalData.upgradeRewardItemID = res.rewardItemID;//奖励物品编号\r\n                GlobalData.upgradeRewardItemCateID = res.rewardItemCateID;//奖励物品类别编号\r\n                GlobalData.flagUpgradeReward = true;\r\n            }\r\n        }); \r\n    },\r\n\r\n    queryAttribute: function (self){\r\n        var serverAddr = GlobalData.serverAddr + \"php/queryUserAttribute.php\";\r\n        // 调用自定义网路接口进行查询\r\n        var data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\"\r\n        };\r\n        HttpHelper.httpPost(serverAddr, data, function(res) {\r\n            if (res != -1) {\r\n                console.log(res);\r\n                GlobalData.coin = res.coin;//金币值\r\n                GlobalData.title = res.title;//主人称呼\r\n            }\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryPetAttribute.php\";\r\n        HttpHelper.httpPost(serverAddr, data, function(res) {\r\n            if (res != -1) {\r\n                console.log(res);\r\n                GlobalData.lastLoginTime = res.lastLoginTime;//上一次登录时间\r\n                GlobalData.contLoginDays = res.contLoginDays; //连续登录天数\r\n                GlobalData.species = res.species;// 宠物种类\r\n                GlobalData.name = res.name;// 宠物名字\r\n                GlobalData.gender = res.gender;//  宠物性别\r\n                GlobalData.color = res.color;// 宠物毛色\r\n                GlobalData.hunger = res.hunger;// 宠物饥饿值\r\n                GlobalData.hungerCeiling = res.hungerCeiling;// 宠物饥饿值上限\r\n                GlobalData.cleaness = res.cleaness;// 宠物清洁值\r\n                GlobalData.cleanessCeiling = res.cleanessCeiling;// 宠物清洁值上限\r\n                GlobalData.thirst = res.thirst;// 宠物口渴值\r\n                GlobalData.thirstCeiling = res.thirstCeiling;// 宠物口渴值上限\r\n                GlobalData.mood = res.mood;// 宠物心情值\r\n                GlobalData.moodCeiling = res.moodCeiling;// 宠物心情值上限\r\n                GlobalData.energy = res.energy;// 宠物能量值\r\n                GlobalData.energyCeiling = res.energyCeiling;// 宠物能量值上限\r\n                GlobalData.growth = res.growth;// 宠物成长值\r\n                if(GlobalData.growthLevel != res.growthLevel)\r\n                {\r\n                    GlobalData.growthLevel = res.growthLevel;// 检测到成长等级改变就应当生成升级奖励\r\n                    self.genUpgradeReward(res.growthLevel);\r\n                }\r\n                GlobalData.flagAgeGroup = res.flagAgeGroup;// 标志位：幼年or成年\r\n                GlobalData.flagSkipping = res.flagSkipping;//标志位_是否解锁“跳绳”操作\r\n                GlobalData.flagStory = res.flagStory;//标志位_是否解锁“讲故事”操作\r\n                GlobalData.flagSleep = res.flagSleep;//标志位-是否正在睡觉\r\n                GlobalData.sleepRemainTime = res.sleepRemainTime;//睡觉剩余时长\r\n                GlobalData.flagWork = res.flagWork;//标志位-是否正在打工\r\n                GlobalData.workRemainTime = res.workRemainTime;//打工剩余时长\r\n                GlobalData.flagTrip = res.flagTrip;//标志位-是否正在旅游\r\n                GlobalData.tripRemainTime = res.tripRemainTime;//旅游剩余时长\r\n            }\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/querySetting.php\";\r\n        HttpHelper.httpPost(serverAddr, data, function(res) {\r\n            if (res != -1) {\r\n                console.log(res);\r\n                GlobalData.flagBgMusic = res.flagBgMusic;//标志位_是否开启背景音乐\r\n                GlobalData.bgMusicVolume = res.bgMusicVolume;//背景音乐音量\r\n                GlobalData.bgMusicNum = res.bgMusicNum;//背景音乐曲目编号\r\n                GlobalData.bgPicNum = res.bgPicNum;//背景图片编号\r\n                GlobalData.flagSound = res.flagSound;//标志位_是否开启音效\r\n                GlobalData.soundVolume = res.soundVolume;//音效音量\r\n                GlobalData.flagNotice = res.flagNotice;//标志位_是否开启推送通知\r\n                GlobalData.flagLocation = res.flagLocation;//标志位_是否开启摄像头权限\r\n                GlobalData.flagVibration = res.flagVibration;//标志位_是否开启震动\r\n            }\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryDecBag.php\";\r\n        HttpHelper.httpPost(serverAddr, data, function(res) {\r\n            if (res != -1) {\r\n                GlobalData.decorationBag.itemIDArrayStr = res.itemIDArray;//物品ID数组\r\n                GlobalData.decorationBag.itemNameArrayStr = res.itemNameArray;//物品名称数组（英文）\r\n                GlobalData.decorationBag.categoryIDArrayStr = res.categoryArray;//物品类别ID数组\r\n                GlobalData.decorationBag.categoryNameArrayStr = res.categoryNameArray;//物品类别名称数组\r\n                GlobalData.decorationBag.flagEnableArrayStr = res.flagEnableArray;//物品是否启用的标志位数组\r\n            }\r\n        });\r\n        data = {\r\n            \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\",\r\n            \"operationTime\": \"auto query by 1s\",\r\n            \"details\": \"system\"\r\n        };\r\n        serverAddr = GlobalData.serverAddr + \"php/queryBag.php\";\r\n        HttpHelper.httpPost(serverAddr, data, function(res) {\r\n            if (res != -1) {\r\n                GlobalData.bag.itemIDArrayStr = res.itemIDArray;//物品ID数组\r\n                GlobalData.bag.itemNameArrayStr = res.itemNameArray;//物品名称数组（英文）\r\n                GlobalData.bag.categoryIDArrayStr = res.categoryIDArray;//物品类别ID数组\r\n                GlobalData.bag.categoryNameArrayStr = res.categoryNameArray;//物品类别名称数组\r\n                GlobalData.bag.numberArrayStr = res.numberArray;//物品数量数组\r\n            }\r\n        });\r\n    },\r\n\r\n    genRandomReward: function(){\r\n        var luckyNum = 7;  \r\n        var number = Math.floor(Math.random() * 10);\r\n        //以十分之一的概率生成奖励\r\n        if (number == luckyNum){\r\n            let date = new Date();\r\n            let year = date.getFullYear(); //获取当前年份   \r\n            let month = date.getMonth() + 1; //获取当前月份   \r\n            let dat = date.getDate(); //获取当前日    \r\n            let hour = date.getHours(); //获取小时   \r\n            let minute = date.getMinutes(); //获取分钟   \r\n            let second = date.getSeconds(); //获取秒   \r\n            var timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n            var serverAddr = GlobalData.serverAddr + \"php/genReward.php\";\r\n            var rewardLevel = Math.ceil(Math.random() * 20);\r\n            // 调用自定义网路接口生成随机奖励\r\n            var data = {\r\n                \"userID\": \"nqEsLYOCtdRUkx4Ovn8bhDUmnBHB3DdEncp0z7ApU1\",\r\n                \"genTime\": timeStr,\r\n                \"rewardCategoryID\": 4,\r\n                \"rewardLevel\": rewardLevel,\r\n            };\r\n            HttpHelper.httpPost(serverAddr, data, function(res) {\r\n                if (res != -1) {\r\n                    console.log(res);\r\n                    GlobalData.randomRewardItemID = res.rewardItemID;//奖励物品编号\r\n                    GlobalData.randomRewardItemCateID = res.rewardItemCateID;//奖励物品类别编号\r\n                    GlobalData.flagRandomReward = true;\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        var queryInterval = 1000;  //时间间隔为1s，每1秒刷新一次属性值\r\n        var genRandomRewardInterval = 180000;  //时间间隔为3分钟，每3分钟生成一次随机奖励\r\n        var updateGrowthInterval = 60000;  //时间间隔为1分钟，每1分钟更新一次成长值\r\n        this.querySetIntervalID = setInterval(queryAttribute, queryInterval, this);\r\n        this.genRandomRewardSetIntervalID = setInterval(genRandomReward, genRandomRewardInterval);\r\n        this.updateGrowthSetIntervalID = setInterval(updateGrowth, updateGrowthInterval);\r\n    },\r\n\r\n    exit (){\r\n        clearInterval(this.querySetIntervalID);\r\n        clearInterval(this.genRandomRewardSetIntervalID);\r\n        clearInterval(this.updateGrowthSetIntervalID);\r\n    },\r\n\r\n    \r\n\r\n    // update (dt) {},\r\n});\r\n"]}